<!DOCTYPE html>
<html lang="it">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0" />
  <title>UI Elements</title>
  <style>
    /* ─── LOCAL FONTS ────────────────────────────────────── */
    @font-face {
      font-family: 'Space Mono';
      src: url('fonts/SpaceMono-Regular.woff2') format('woff2');
      font-weight: 400;
      font-style: normal;
      font-display: swap;
    }
    @font-face {
      font-family: 'Space Mono';
      src: url('fonts/SpaceMono-Bold.woff2') format('woff2');
      font-weight: 700;
      font-style: normal;
      font-display: swap;
    }
    @font-face {
      font-family: 'Syne';
      src: url('fonts/Syne-Regular.woff2') format('woff2');
      font-weight: 400;
      font-style: normal;
      font-display: swap;
    }
    @font-face {
      font-family: 'Syne';
      src: url('fonts/Syne-Bold.woff2') format('woff2');
      font-weight: 700;
      font-style: normal;
      font-display: swap;
    }
    @font-face {
      font-family: 'Syne';
      src: url('fonts/Syne-ExtraBold.woff2') format('woff2');
      font-weight: 800;
      font-style: normal;
      font-display: swap;
    }

    /* ─── DESIGN TOKENS ─────────────────────────────────── */
    :root {
      --bg:            #181820;
      --card-bg:       rgba(14,14,14,.82);
      --card-bg-h:     rgba(22,22,22,.90);
      --card-border:   rgba(255,255,255,.08);
      --card-border-h: rgba(176,168,48,.55);
      --accent:        #f0e040;
      --accent-dim:    rgba(240,224,64,.15);
      --accent-m:      #b0a830;
      --ok:            #4caf88;
      --err:           #e05a5a;
      --info:          #5ab4e0;
      --t1:            #f0f0f0;
      --t2:            #888;
      --surface:       #1a1a1a; /* raised surfaces: dropdowns, panels, dialogs */
      --surface-deep:  #131313; /* deeply recessed surfaces: sidebar, tab bar bg */
      --mono:          'Space Mono', monospace;
      --disp:          'Syne', sans-serif;
      /* radius scale */
      --r-sm:  4px;
      --r-md:  8px;
      --r-lg: 14px;
      /* transitions */
      --tf: 200ms ease;
      --tm: 350ms ease;
    }

    /* ─── RESET ─────────────────────────────────────────── */
    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0 }

    /* ─── NOISE TEXTURE via CSS only (no external PNG) ──── */
    body {
      min-height: 100vh;
      padding: 3rem 1.5rem 5rem;
      overflow-x: hidden;
      color: var(--t1);
      font-family: var(--mono);
      background-color: var(--bg);
      background-image:
        radial-gradient(ellipse 80% 60% at 15% 20%, rgba(80,80,110,.45) 0%, transparent 60%),
        radial-gradient(ellipse 60% 50% at 85% 70%, rgba(60,60,80,.40) 0%, transparent 60%),
        radial-gradient(ellipse 70% 40% at 50% 100%,rgba(40,40,60,.35) 0%, transparent 55%),
        radial-gradient(ellipse 50% 60% at 80% 10%, rgba(100,95,80,.25) 0%, transparent 55%);
    }

    /* CSS-only noise via SVG filter on a pseudo-element */
    body::before {
      content: '';
      position: fixed;
      inset: 0;
      z-index: 0;
      pointer-events: none;
      opacity: .04;
      /* fractal noise purely via CSS SVG filter — no PNG needed */
      background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='200' height='200'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.75' numOctaves='4' stitchTiles='stitch'/%3E%3CfeColorMatrix type='saturate' values='0'/%3E%3C/filter%3E%3Crect width='200' height='200' filter='url(%23n)' opacity='1'/%3E%3C/svg%3E");
      background-size: 200px 200px;
    }

    .page-header, .layout, footer { position: relative; z-index: 1 }

    /* ─── HEADER ─────────────────────────────────────────── */
    .page-header { text-align: center; margin-bottom: 4rem }

    .page-header__title {
      font-family: var(--disp);
      font-size: clamp(2rem, 5vw, 4rem);
      font-weight: 800;
      line-height: 1;
    }
    .page-header__title span { color: var(--accent) }

    .page-header__sub {
      margin-top: 1rem;
      font-size: .75rem;
      color: var(--t2);
      letter-spacing: .08em;
    }

    /* ─── LAYOUT ─────────────────────────────────────────── */
    .layout { max-width: 1100px; margin: 0 auto }

    .grid-page {
      display: none;
      grid-template-columns: repeat(2, 1fr);
      gap: 1.5rem;
    }
    .grid-page.grid-page--active { display: grid }

    @media(max-width:800px) { .grid-page { grid-template-columns: 1fr } }

    /* ─── MOBILE CAROUSEL ────────────────────────────────── */
    .mobile-gallery { display: none; position: relative; touch-action: pan-y }
    .mobile-track-wrap { overflow: hidden }
    .mobile-track   { display: flex; transition: transform 400ms cubic-bezier(.65,0,.35,1); will-change: transform }
    .mobile-slide   { min-width: 100%; padding: 0 2px }

    /* Nav bar: fixed-size arrows + shrinkable dot strip in the middle */
    .mobile-hint {
      display: flex;
      align-items: center;
      gap: .5rem;
      margin-top: 1rem;
    }
    .mobile-hint__arrow {
      flex-shrink: 0;
      background: rgba(255,255,255,.06);
      border: 1px solid var(--card-border);
      color: var(--t2);
      width: 38px; height: 38px;
      border-radius: 50%;
      cursor: pointer;
      display: flex; align-items: center; justify-content: center;
      transition: border-color var(--tf), background var(--tf), color var(--tf);
      -webkit-tap-highlight-color: transparent;
    }
    .mobile-hint__arrow:hover,
    .mobile-hint__arrow:active { border-color: var(--accent); background: var(--accent-dim); color: var(--accent) }
    .mobile-hint__arrow:disabled { opacity: .25; pointer-events: none }
    /* SVG chevron icons inside arrows */
    .mobile-hint__arrow svg { width: 16px; height: 16px; fill: none; stroke: currentColor; stroke-width: 2; stroke-linecap: round; stroke-linejoin: round }

    /* Dot strip — centered within its flex cell */
    .mobile-hint__dots {
      flex: 1;
      overflow: hidden;
      display: flex;
      align-items: center;
      justify-content: center;
      min-width: 0; /* allow flex child to shrink below content size */
    }
    #mobilePagination {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 0; /* gap managed per-dot via margin to allow true collapse */
      margin-top: 0;
      flex-wrap: nowrap;
      width: 100%;
    }

    /* ─── PAGINATION ─────────────────────────────────────── */
    .pagination {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: .6rem;
      margin-top: 2rem;
    }
    .pagination__dot {
      width: 7px; height: 7px;
      border-radius: 50%;
      background: rgba(255,255,255,.2);
      border: none; cursor: pointer; padding: 0;
      transition: background var(--tf), transform var(--tf);
    }
    .pagination__dot--active { background: var(--accent); transform: scale(1.5) }

    /* Desktop prev/next: same circle style as mobile arrows */
    .pagination__btn {
      flex-shrink: 0;
      width: 38px; height: 38px;
      border-radius: 50%;
      background: rgba(255,255,255,.06);
      border: 1px solid rgba(255,255,255,.15);
      color: var(--t2);
      cursor: pointer;
      display: flex; align-items: center; justify-content: center;
      transition: border-color var(--tf), background var(--tf), color var(--tf);
      padding: 0;
    }
    .pagination__btn:hover   { border-color: var(--accent); background: var(--accent-dim); color: var(--accent) }
    .pagination__btn:disabled { opacity: .25; pointer-events: none }
    .pagination__btn svg { width: 16px; height: 16px; fill: none; stroke: currentColor; stroke-width: 2; stroke-linecap: round; stroke-linejoin: round }

    /* ─── CARD ───────────────────────────────────────────── */
    .card {
      background: var(--card-bg);
      backdrop-filter: blur(12px);
      -webkit-backdrop-filter: blur(12px);
      border: 1px solid var(--card-border);
      border-radius: var(--r-lg);
      padding: 2rem;
      position: relative;
      transition: border-color var(--tf), background var(--tf), box-shadow var(--tf);
      box-shadow: 0 4px 24px rgba(0,0,0,.35), inset 0 1px 0 rgba(255,255,255,.04);
      contain: layout style; /* card is fixed-size — safe to contain layout */
    }
    .card:hover {
      background: var(--card-bg-h);
      border-color: var(--card-border-h);
      box-shadow: 0 8px 32px rgba(0,0,0,.5), inset 0 1px 0 rgba(255,255,255,.06);
    }

    .card__tag {
      display: inline-block;
      font-family: var(--mono);
      font-size: .6rem;
      letter-spacing: .2em;
      text-transform: uppercase;
      color: var(--accent);
      background: var(--accent-dim);
      border: 1px solid rgba(240,224,64,.3);
      border-radius: var(--r-sm);
      padding: .2rem .6rem;
      margin-bottom: 1rem;
    }
    .card__title {
      font-family: var(--disp);
      font-size: 1.4rem;
      font-weight: 700;
      margin-bottom: .35rem;
    }
    .card__desc {
      font-size: .72rem;
      color: var(--t2);
      line-height: 1.6;
      margin-bottom: 1.75rem;
      letter-spacing: .02em;
    }
    .card__demo {
      border-top: 1px solid rgba(255,255,255,.07);
      padding-top: 1.5rem;
      height: 220px;        /* fixed — same for all 32 cards */
      overflow: hidden;
      position: relative;
      display: flex;
      flex-direction: column;
    }

    /* Accordion fills its fixed demo area */
    [data-component="accordion"] .accordion { flex: 1; overflow: hidden }

    /* ─── AUTO-BADGE ─────────────────────────────────────── */
    .auto-badge {
      position: absolute;
      top: 2rem; right: 2rem;
      font-size: .55rem;
      letter-spacing: .15em;
      color: var(--t2);
      text-transform: uppercase;
      display: flex; align-items: center; gap: .4rem;
    }
    .auto-badge::before {
      content: '';
      width: 6px; height: 6px;
      border-radius: 50%;
      background: var(--ok);
      animation: pulse-dot 2s infinite;
    }

    /* ─── KEYFRAMES ──────────────────────────────────────── */
    @keyframes pulse-dot {
      0%, 100% { opacity: 1; transform: scale(1) }
      50%       { opacity: .4; transform: scale(.7) }
    }
    @keyframes spin    { to { transform: rotate(360deg) } }
    @keyframes shimmer { 100% { transform: translateX(200%) } }
    @keyframes fadeIn  {
      from { opacity: 0; transform: translateY(4px) }
      to   { opacity: 1; transform: none }
    }
    @keyframes blink   { 0%, 100% { opacity: 1 } 50% { opacity: 0 } }
    @keyframes iconPulse { 0%, 100% { transform: scale(1) } 50% { transform: scale(1.2) } }

    /* ─── REDUCED MOTION ─────────────────────────────────── */
    @media (prefers-reduced-motion: reduce) {
      *, *::before, *::after { animation-duration: .01ms !important; transition-duration: .01ms !important }
    }

    /* ═══════════════════════════════════════════════════════
       COMPONENT STYLES
    ═══════════════════════════════════════════════════════ */

    /* ACCORDION */
    .accordion { display: flex; flex-direction: column; gap: .5rem }
    .accordion-item {
      border: 1px solid rgba(255,255,255,.08);
      border-radius: var(--r-md);
      overflow: hidden;
      transition: border-color var(--tf);
    }
    .accordion-item.accordion-item--open { border-color: var(--accent-m) }
    .accordion-item__header {
      display: flex; justify-content: space-between; align-items: center;
      padding: .8rem 1rem;
      font-size: .75rem;
      cursor: pointer; user-select: none;
      transition: background var(--tf);
    }
    .accordion-item--open .accordion-item__header { background: var(--accent-dim) }
    .accordion-item__chevron { font-size: .65rem; color: var(--accent); transition: transform var(--tm) }
    .accordion-item--open .accordion-item__chevron { transform: rotate(180deg) }
    .accordion-item__body {
      max-height: 0; overflow: hidden;
      transition: max-height var(--tm), padding var(--tm);
      font-size: .7rem; color: var(--t2); line-height: 1.7;
    }
    .accordion-item--open .accordion-item__body { max-height: 200px; padding: .75rem 1rem 1rem }

    /* BADGE */
    .badge-showcase { display: flex; flex-direction: column; gap: .85rem }
    .badge-row      { display: flex; align-items: center; gap: .9rem }
    .badge-target {
      position: relative; display: inline-flex; align-items: center; justify-content: center;
      width: 36px; height: 36px;
      background: rgba(255,255,255,.07);
      border: 1px solid rgba(255,255,255,.12);
      border-radius: var(--r-sm);
      font-size: .95rem; cursor: pointer;
    }
    .badge {
      position: absolute; top: -6px; right: -6px;
      min-width: 16px; height: 16px; padding: 0 4px;
      border-radius: 99px;
      font-size: .55rem; font-weight: 700;
      display: flex; align-items: center; justify-content: center;
      font-family: var(--mono);
      border: 2px solid var(--card-bg);
      transition: transform 200ms cubic-bezier(.34,1.56,.64,1);
    }
    .badge--red    { background: var(--err);    color: #fff }
    .badge--yellow { background: var(--accent); color: #000 }
    .badge--green  { background: var(--ok);     color: #fff }
    .badge--bump   { transform: scale(1.4) }
    .badge-desc    { font-size: .62rem; color: var(--t2) }

    /* SINGLE-MENU STAGE (bento, hamburger, döner) */
    .single-menu-stage { display: flex; flex-direction: column; align-items: center; gap: .85rem }
    .single-trigger {
      background: rgba(255,255,255,.07);
      border: 1px solid rgba(255,255,255,.12);
      border-radius: var(--r-sm);
      color: var(--t1); cursor: pointer;
      display: flex; align-items: center; justify-content: center;
      font-size: 1.1rem;
      transition: border-color var(--tf), background var(--tf);
      min-width: 40px; height: 40px; padding: 0 .5rem;
    }
    .single-trigger.open { border-color: var(--accent); background: var(--accent-dim) }
    .single-panel {
      background: var(--surface);
      border: 1px solid rgba(255,255,255,.12);
      border-radius: var(--r-md);
      padding: .4rem;
      opacity: 0; transform: translateY(-6px) scale(.96);
      transition: opacity 250ms ease, transform 250ms ease;
      pointer-events: none;
      box-shadow: 0 8px 24px rgba(0,0,0,.5);
    }
    .single-panel.open { opacity: 1; transform: none; pointer-events: all }

    .bento-grid-panel { display: grid; grid-template-columns: repeat(3,1fr); gap: .3rem; padding: .5rem }
    .bento-cell {
      width: 32px; height: 32px;
      background: rgba(255,255,255,.06); border-radius: 4px;
      display: flex; align-items: center; justify-content: center;
      font-size: .72rem; cursor: pointer;
      transition: background var(--tf);
    }
    .bento-cell:hover, .bento-cell.active { background: var(--accent-dim) }

    .list-panel { min-width: 130px }
    .nav-list-panel { min-width: 150px }
    .list-opt {
      padding: .42rem .65rem; font-size: .65rem; color: var(--t2);
      border-radius: var(--r-sm); cursor: pointer;
      transition: background var(--tf), color var(--tf);
    }
    .list-opt:hover, .list-opt.active { background: var(--accent-dim); color: var(--accent) }
    .list-opt--active { color: var(--accent) }

    /* DÖNER ICON */
    .doner-icon { flex-direction: column; gap: 3px; align-items: flex-start; padding: .55rem .65rem }
    .doner-icon span { display: block; height: 2px; background: currentColor; border-radius: 1px }
    .doner-icon span:nth-child(1) { width: 18px }
    .doner-icon span:nth-child(2) { width: 13px }
    .doner-icon span:nth-child(3) { width: 8px }

    /* BREADCRUMB */
    .breadcrumb { display: flex; align-items: center; flex-wrap: wrap; gap: .3rem; font-size: .7rem; min-height: 2rem }
    .breadcrumb__item {
      display: flex; align-items: center; gap: .3rem;
      opacity: 0; transform: translateX(-8px);
      transition: opacity 350ms ease, transform 350ms ease;
    }
    .breadcrumb__item.visible { opacity: 1; transform: translateX(0) }
    .breadcrumb__link { color: var(--accent); text-decoration: none; padding: .2rem .4rem; border-radius: var(--r-sm); transition: background var(--tf) }
    .breadcrumb__link:hover { background: var(--accent-dim) }
    .breadcrumb__current { color: var(--t1); padding: .2rem .4rem }
    .breadcrumb__sep     { color: rgba(255,255,255,.25); font-size: .65rem }
    .breadcrumb-path-display { margin-top: 1rem; font-size: .62rem; color: var(--t2); min-height: 1.2em }
    .breadcrumb-path-display span { color: var(--accent) }

    /* BUTTON */
    .button-showcase { display: flex; flex-direction: column; gap: .65rem }
    .btn-row { display: flex; gap: .5rem; flex-wrap: wrap }
    .btn {
      display: inline-flex; align-items: center; justify-content: center; gap: .4rem;
      padding: .45rem .9rem;
      border-radius: var(--r-sm);
      font-family: var(--mono); font-size: .65rem; font-weight: 700;
      cursor: pointer; border: 1px solid transparent;
      transition: all var(--tf); user-select: none;
    }
    .btn--primary          { background: var(--accent); color: #000 }
    .btn--primary:hover    { background: var(--accent-m) }
    .btn--secondary        { background: transparent; border-color: rgba(255,255,255,.2); color: var(--t1) }
    .btn--secondary:hover  { border-color: var(--accent); color: var(--accent) }
    .btn--ghost            { background: transparent; border-color: transparent; color: var(--t2) }
    .btn--ghost:hover      { color: var(--t1) }
    .btn--danger           { background: transparent; border-color: var(--err); color: var(--err) }
    .btn--danger:hover     { background: rgba(224,90,90,.12) }
    .btn--op35             { opacity: .35; pointer-events: none }
    .btn--loading-demo     { opacity: .7 }
    .btn__spinner {
      width: 12px; height: 12px; border-radius: 50%;
      border: 2px solid rgba(0,0,0,.2); border-top-color: #000;
      animation: spin 700ms linear infinite;
    }

    /* CARD COMPONENT */
    .card-demo-grid  { display: flex; flex-direction: column; gap: .65rem }
    .card-demo-item {
      background: rgba(255,255,255,.04); border: 1px solid rgba(255,255,255,.08);
      border-radius: var(--r-md); padding: .75rem 1rem;
      font-size: .68rem; color: var(--t2); cursor: pointer;
      transition: border-color var(--tf), background var(--tf);
    }
    .card-demo-item:hover, .card-demo-item.active { border-color: var(--accent-m); background: var(--accent-dim); color: var(--t1) }
    .card-demo-item__title { font-weight: 700; color: var(--t1); margin-bottom: .2rem; font-size: .72rem }

    /* CAROUSEL */
    .carousel { position: relative; overflow: hidden; border-radius: var(--r-md) }
    .carousel__track { display: flex; transition: transform 500ms cubic-bezier(.65,0,.35,1) }
    .carousel__slide {
      min-width: 100%; height: 110px;
      display: flex; flex-direction: column; align-items: center; justify-content: center;
      border-radius: var(--r-md);
      font-family: var(--disp); font-size: 1.1rem; font-weight: 700; gap: .5rem; color: #111;
    }
    .carousel__slide--1 { background: linear-gradient(135deg,#f0e040,#e0a020) }
    .carousel__slide--2 { background: linear-gradient(135deg,#4caf88,#2d7a5a); color: #f0f0f0 }
    .carousel__slide--3 { background: linear-gradient(135deg,#5ab4e0,#2a6a9a); color: #f0f0f0 }
    .carousel__slide--4 { background: linear-gradient(135deg,#e05a8a,#a02060); color: #f0f0f0 }
    .carousel__slide span { font-family: var(--mono); font-size: .6rem; font-weight: 400; opacity: .7 }
    .carousel__dots { display: flex; justify-content: center; gap: .5rem; margin-top: .85rem }
    .carousel__dot {
      width: 6px; height: 6px; border-radius: 50%;
      background: rgba(255,255,255,.2); border: none;
      transition: background var(--tf), transform var(--tf); cursor: pointer; padding: 0;
    }
    .carousel__dot--active { background: var(--accent); transform: scale(1.4) }
    .carousel__arrows { position: absolute; top: 50%; width: 100%; display: flex; justify-content: space-between; padding: 0 .5rem; pointer-events: none; transform: translateY(-50%) }
    .carousel__arrow {
      pointer-events: all; background: rgba(0,0,0,.35); border: none; color: #fff;
      width: 28px; height: 28px; border-radius: 50%; cursor: pointer; font-size: .8rem;
      display: flex; align-items: center; justify-content: center; transition: background var(--tf);
    }
    .carousel__arrow:hover { background: rgba(0,0,0,.65) }

    /* CHECKBOX */
    .checkbox-group { display: flex; flex-direction: column; gap: .5rem }
    .checkbox-item { display: flex; align-items: center; gap: .6rem; font-size: .72rem; color: var(--t2); cursor: pointer }
    .checkbox-item.checkbox-item--checked { color: var(--t1) }
    .checkbox-box {
      width: 18px; height: 18px; border-radius: 3px;
      border: 2px solid rgba(255,255,255,.2); flex-shrink: 0; position: relative;
      transition: border-color 250ms, background 250ms;
    }
    .checkbox-item--checked .checkbox-box { border-color: var(--accent); background: var(--accent) }
    .checkbox-box::after {
      content: ''; position: absolute; top: 2px; left: 5px; width: 5px; height: 9px;
      border: 2px solid #000; border-top: none; border-left: none;
      transform: rotate(45deg) scale(0);
      transition: transform 200ms cubic-bezier(.34,1.56,.64,1);
    }
    .checkbox-item--checked .checkbox-box::after { transform: rotate(45deg) scale(1) }
    .checkbox-item--indeterminate .checkbox-box { border-color: var(--info); background: var(--info) }
    .checkbox-item--indeterminate .checkbox-box::after {
      top: 50%; left: 2px; width: 10px; height: 0;
      border: none; border-top: 2px solid #000;
      transform: translateY(-50%) scale(1);
    }

    /* COMMENT */
    .comment-thread { display: flex; flex-direction: column; gap: .45rem }
    .comment { display: flex; gap: .6rem; align-items: flex-start }
    .comment__avatar {
      width: 28px; height: 28px; border-radius: 50%; flex-shrink: 0;
      display: flex; align-items: center; justify-content: center;
      font-size: .7rem; font-weight: 700; color: #000;
    }
    .comment__avatar--a { background: var(--accent) }
    .comment__avatar--b { background: var(--info) }
    .comment__avatar--c { background: var(--ok) }
    .comment__body      { flex: 1 }
    .comment__author    { font-size: .6rem; font-weight: 700; color: var(--t1) }
    .comment__text      { font-size: .65rem; color: var(--t2); line-height: 1.5; margin-top: .1rem }
    .comment__time      { font-size: .55rem; color: rgba(255,255,255,.25); margin-top: .15rem }
    .comment--new       { opacity: 0; transform: translateY(6px); transition: opacity 400ms, transform 400ms }
    .comment--new.visible { opacity: 1; transform: translateY(0) }

    /* DROPDOWN */
    .dropdown-wrap { position: relative }
    .dropdown-trigger {
      width: 100%; display: flex; align-items: center; justify-content: space-between;
      padding: .5rem .7rem;
      background: rgba(255,255,255,.05); border: 1px solid rgba(255,255,255,.12);
      border-radius: var(--r-sm); font-size: .7rem; color: var(--t1); cursor: pointer;
      transition: border-color var(--tf);
    }
    .dropdown-trigger.open { border-color: var(--accent) }
    .dropdown-trigger__arrow { font-size: .6rem; color: var(--t2); transition: transform var(--tm) }
    .dropdown-trigger.open .dropdown-trigger__arrow { transform: rotate(180deg) }
    .dropdown-list {
      position: absolute; top: calc(100% + 4px); left: 0; right: 0;
      background: var(--surface); border: 1px solid rgba(255,255,255,.12); border-radius: var(--r-md);
      overflow: hidden; max-height: 0; opacity: 0; pointer-events: none;
      transition: max-height 300ms, opacity 250ms; z-index: 5;
      box-shadow: 0 8px 20px rgba(0,0,0,.5);
    }
    .dropdown-list.open { max-height: 200px; opacity: 1; pointer-events: all }
    .dropdown-option {
      padding: .45rem .7rem; font-size: .68rem; color: var(--t2); cursor: pointer;
      transition: background var(--tf), color var(--tf);
      border-bottom: 1px solid rgba(255,255,255,.05);
    }
    .dropdown-option:last-child { border-bottom: none }
    .dropdown-option.active { background: var(--accent-dim); color: var(--accent) }

    /* FORM */
    .form-demo  { display: flex; flex-direction: column; gap: .5rem }
    .form-field { display: flex; flex-direction: column; gap: .25rem }
    .form-field__label {
      font-size: .58rem; color: var(--t2); letter-spacing: .08em; text-transform: uppercase;
    }
    .form-field__input {
      padding: .45rem .65rem;
      background: rgba(255,255,255,.05); border: 1px solid rgba(255,255,255,.1);
      border-radius: var(--r-sm); font-family: var(--mono); font-size: .68rem; color: var(--t1);
      outline: none; caret-color: var(--accent); transition: border-color var(--tf);
    }
    .form-field__input.active { border-color: var(--accent) }

    /* ICON */
    .icon-grid { display: grid; grid-template-columns: repeat(4,1fr); gap: .5rem }
    .icon-item {
      display: flex; flex-direction: column; align-items: center; gap: .3rem;
      padding: .5rem .3rem;
      background: rgba(255,255,255,.04); border: 1px solid rgba(255,255,255,.07);
      border-radius: var(--r-sm); cursor: pointer;
      transition: background var(--tf), border-color var(--tf), transform 150ms;
    }
    .icon-item:hover        { background: var(--accent-dim); border-color: rgba(240,224,64,.3); transform: scale(1.06) }
    .icon-item.pulse        { animation: iconPulse 600ms ease }
    .icon-item__glyph       { font-size: 1.1rem; line-height: 1 }
    .icon-item__name        { font-size: .48rem; color: var(--t2); text-align: center }

    /* INPUT FIELD */
    .input-showcase   { display: flex; flex-direction: column; gap: .75rem }
    .input-field-wrap { display: flex; flex-direction: column; gap: .25rem }
    .input-field-label { font-size: .58rem; color: var(--t2); letter-spacing: .08em; text-transform: uppercase }
    .input-field__el {
      width: 100%; padding: .5rem .7rem;
      background: rgba(255,255,255,.05); border: 1px solid rgba(255,255,255,.12);
      border-radius: var(--r-sm); font-family: var(--mono); font-size: .68rem; color: var(--t1);
      outline: none; caret-color: var(--accent);
      transition: border-color var(--tf), box-shadow var(--tf);
    }
    .input-field__el.active  { border-color: var(--accent); box-shadow: 0 0 0 2px var(--accent-dim) }
    .input-field__el.error   { border-color: var(--err); box-shadow: 0 0 0 2px rgba(224,90,90,.15) }
    .input-field__el.success { border-color: var(--ok);  box-shadow: 0 0 0 2px rgba(76,175,136,.15) }
    .input-field__hint       { font-size: .58rem; margin-top: .2rem; color: var(--t2); min-height: .9rem }
    .input-field__hint.error   { color: var(--err) }
    .input-field__hint.success { color: var(--ok) }

    /* KEBAB */
    .kebab-stage { display: flex; flex-direction: column; gap: .55rem }
    .kebab-row {
      display: flex; align-items: center; justify-content: space-between;
      padding: .45rem .65rem;
      background: rgba(255,255,255,.04); border: 1px solid rgba(255,255,255,.07);
      border-radius: var(--r-sm); font-size: .68rem; color: var(--t2);
    }
    .kebab-row.active { border-color: var(--accent-m) }
    .kebab-row__name  { flex: 1 }
    .kebab-btn {
      background: none; border: none; color: var(--t2); font-size: 1rem;
      cursor: pointer; padding: .1rem .3rem; border-radius: var(--r-sm); position: relative;
      transition: background var(--tf), color var(--tf);
    }
    .kebab-btn.open { color: var(--accent); background: var(--accent-dim) }
    .kebab-dropdown {
      position: absolute; top: calc(100% + 4px); right: 0;
      background: var(--surface); border: 1px solid rgba(255,255,255,.12); border-radius: var(--r-md);
      padding: .3rem; min-width: 100px; z-index: 10;
      opacity: 0; pointer-events: none; transform: translateY(-4px) scale(.96);
      transition: opacity 200ms, transform 200ms; box-shadow: 0 8px 24px rgba(0,0,0,.5);
    }
    .kebab-dropdown.open { opacity: 1; pointer-events: all; transform: none }
    .kebab-opt {
      display: block; padding: .35rem .55rem; font-size: .62rem; color: var(--t2);
      border-radius: var(--r-sm); cursor: pointer; white-space: nowrap;
      transition: background var(--tf), color var(--tf);
    }
    .kebab-opt.active, .kebab-opt:hover { background: var(--accent-dim); color: var(--accent) }

    /* SPINNER */
    .spinner-showcase { display: flex; flex-direction: column; gap: .6rem }
    .spinner-row      { display: flex; align-items: center; gap: .85rem }
    .spinner {
      flex-shrink: 0; border-radius: 50%;
      border: 3px solid rgba(255,255,255,.1);
      animation: spin 900ms linear infinite;
    }
    .spinner--sm { width: 18px; height: 18px; border-top-color: var(--accent) }
    .spinner--md { width: 28px; height: 28px; border-top-color: var(--info) }
    .spinner--lg { width: 38px; height: 38px; border-top-color: var(--ok) }
    .spinner-label { font-size: .65rem; color: var(--t2) }

    /* MEATBALL */
    .meatball-stage   { display: flex; flex-direction: column; gap: .6rem }
    .meatball-toolbar {
      display: flex; align-items: center; gap: .35rem;
      padding: .45rem .6rem;
      background: rgba(255,255,255,.04); border: 1px solid rgba(255,255,255,.07); border-radius: var(--r-sm);
    }
    .meatball-tool {
      width: 28px; height: 28px; display: flex; align-items: center; justify-content: center;
      font-size: .75rem; font-weight: 700; color: var(--t2); border-radius: var(--r-sm);
      cursor: pointer; transition: background var(--tf), color var(--tf);
    }
    .meatball-tool:hover { background: rgba(255,255,255,.1); color: var(--t1) }
    .meatball-sep        { width: 1px; height: 16px; background: rgba(255,255,255,.12); margin: 0 .1rem }
    .meatball-btn {
      background: none; border: none; color: var(--t2); font-size: 1rem;
      cursor: pointer; padding: .1rem .35rem; border-radius: var(--r-sm); margin-left: auto; position: relative;
      transition: background var(--tf), color var(--tf);
    }
    .meatball-btn.open { color: var(--accent); background: var(--accent-dim) }
    .meatball-dropdown {
      position: absolute; top: calc(100% + 4px); right: 0;
      background: var(--surface); border: 1px solid rgba(255,255,255,.12); border-radius: var(--r-md);
      padding: .3rem; min-width: 110px; z-index: 10;
      opacity: 0; pointer-events: none; transform: translateY(-4px) scale(.96);
      transition: opacity 200ms, transform 200ms; box-shadow: 0 8px 24px rgba(0,0,0,.5);
    }
    .meatball-dropdown.open { opacity: 1; pointer-events: all; transform: none }
    .meatball-opt {
      display: block; padding: .35rem .55rem; font-size: .62rem; color: var(--t2);
      border-radius: var(--r-sm); cursor: pointer; white-space: nowrap;
      transition: background var(--tf), color var(--tf);
    }
    .meatball-opt.active, .meatball-opt:hover { background: var(--accent-dim); color: var(--accent) }

    /* MODAL */
    .modal-stage {
      position: relative; height: 130px; border-radius: var(--r-md); overflow: hidden;
      background: rgba(255,255,255,.03); border: 1px solid rgba(255,255,255,.07);
    }
    .modal-stage__bg { position: absolute; inset: 0; padding: .75rem; display: flex; flex-direction: column; gap: .4rem }
    .modal-bg-line   { height: 8px; border-radius: 99px; background: rgba(255,255,255,.07) }
    .modal-bg-line--short { width: 60% }
    .modal-overlay {
      position: absolute; inset: 0; background: rgba(0,0,0,.6);
      opacity: 0; pointer-events: none; transition: opacity 350ms;
      backdrop-filter: blur(3px); display: flex; align-items: center; justify-content: center;
    }
    .modal-overlay.open { opacity: 1; pointer-events: all }
    .modal-dialog {
      background: var(--surface); border: 1px solid rgba(255,255,255,.12); border-radius: var(--r-md);
      padding: .85rem 1rem; width: 80%; max-width: 220px;
      transform: translateY(16px) scale(.96);
      transition: transform 350ms cubic-bezier(.34,1.3,.64,1);
      box-shadow: 0 12px 32px rgba(0,0,0,.6);
    }
    .modal-overlay.open .modal-dialog { transform: translateY(0) scale(1) }
    .modal-dialog__title { font-family: var(--disp); font-size: .8rem; font-weight: 700; margin-bottom: .35rem }
    .modal-dialog__body  { font-size: .6rem; color: var(--t2); line-height: 1.5; margin-bottom: .75rem }
    .modal-dialog__actions { display: flex; gap: .5rem; justify-content: flex-end }
    .modal-btn {
      padding: .28rem .6rem; border-radius: var(--r-sm); font-family: var(--mono); font-size: .57rem;
      cursor: pointer; border: 1px solid rgba(255,255,255,.15); background: transparent; color: var(--t2);
      transition: all var(--tf);
    }
    .modal-btn--confirm { background: var(--accent); border-color: var(--accent); color: #000; font-weight: 700 }
    .modal-trigger-row  { margin-top: .75rem; display: flex; align-items: center; gap: .75rem; font-size: .62rem; color: var(--t2) }
    .modal-open-btn {
      background: var(--accent-dim); border: 1px solid rgba(240,224,64,.3); border-radius: var(--r-sm);
      color: var(--accent); font-family: var(--mono); font-size: .62rem; padding: .28rem .65rem; cursor: pointer;
    }

    /* PAGINATION DEMO */
    .pagination-demo { display: flex; align-items: center; justify-content: center; gap: .35rem; flex-wrap: wrap }
    .pg-btn {
      min-width: 28px; height: 28px; padding: 0 .4rem;
      display: flex; align-items: center; justify-content: center;
      border-radius: var(--r-sm); font-size: .65rem; font-family: var(--mono);
      cursor: pointer; border: 1px solid rgba(255,255,255,.12); color: var(--t2); background: transparent;
      transition: all var(--tf);
    }
    .pg-btn:hover        { border-color: var(--accent); color: var(--accent) }
    .pg-btn.active       { background: var(--accent); border-color: var(--accent); color: #000; font-weight: 700 }
    .pg-btn.arrow        { font-size: .8rem }
    .pg-btn:disabled     { opacity: .25; pointer-events: none }

    /* PROGRESS */
    .progress-list   { display: flex; flex-direction: column; gap: .75rem }
    .progress-item__meta { display: flex; justify-content: space-between; font-size: .65rem; margin-bottom: .4rem; color: var(--t2) }
    .progress-item__label  { color: var(--t1) }
    .progress-bar__track   { height: 6px; background: rgba(255,255,255,.1); border-radius: 99px; overflow: hidden }
    .progress-bar__fill    { height: 100%; border-radius: 99px; width: 0%; transition: width 900ms cubic-bezier(.4,0,.2,1) }
    .progress-bar__fill--yellow { background: var(--accent) }
    .progress-bar__fill--green  { background: var(--ok) }
    .progress-bar__fill--blue   { background: var(--info) }

    /* RADIO */
    .radio-group { display: flex; flex-direction: column; gap: .5rem }
    .radio-item  { display: flex; align-items: center; gap: .6rem; font-size: .72rem; color: var(--t2); cursor: pointer }
    .radio-item.selected { color: var(--t1) }
    .radio-circle {
      width: 18px; height: 18px; border-radius: 50%;
      border: 2px solid rgba(255,255,255,.2); flex-shrink: 0; position: relative;
      transition: border-color 250ms;
    }
    .radio-item.selected .radio-circle { border-color: var(--accent) }
    .radio-circle::after {
      content: ''; position: absolute; inset: 3px; border-radius: 50%;
      background: var(--accent); transform: scale(0);
      transition: transform 250ms cubic-bezier(.34,1.56,.64,1);
    }
    .radio-item.selected .radio-circle::after { transform: scale(1) }

    /* SEARCH */
    .search-wrap  { position: relative }
    .search-input {
      width: 100%; padding: .5rem .7rem .5rem 2rem;
      background: rgba(255,255,255,.05); border: 1px solid rgba(255,255,255,.12);
      border-radius: 99px; font-family: var(--mono); font-size: .68rem; color: var(--t1);
      outline: none; caret-color: var(--accent);
      transition: border-color var(--tf), box-shadow var(--tf);
    }
    .search-input.active { border-color: var(--accent); box-shadow: 0 0 0 2px var(--accent-dim) }
    .search-icon { position: absolute; left: .65rem; top: 50%; transform: translateY(-50%); font-size: .75rem; color: var(--t2); pointer-events: none }
    .search-results {
      margin-top: .4rem; background: var(--surface); border: 1px solid rgba(255,255,255,.1);
      border-radius: var(--r-md); overflow: hidden; max-height: 0; opacity: 0;
      transition: max-height 300ms, opacity 250ms; box-shadow: 0 8px 20px rgba(0,0,0,.4);
    }
    .search-results.open { max-height: 200px; opacity: 1 }
    .search-result {
      padding: .4rem .7rem; font-size: .65rem; color: var(--t2);
      border-bottom: 1px solid rgba(255,255,255,.05); cursor: pointer;
      transition: background var(--tf), color var(--tf); display: flex; align-items: center; gap: .5rem;
    }
    .search-result:last-child { border-bottom: none }
    .search-result.hl         { background: var(--accent-dim); color: var(--accent) }
    .search-result__icon      { font-size: .7rem; flex-shrink: 0 }

    /* SIDEBAR */
    .sidebar-stage {
      position: relative; height: 130px; overflow: hidden; border-radius: var(--r-md);
      display: flex; background: rgba(255,255,255,.02); border: 1px solid rgba(255,255,255,.07);
    }
    .sidebar-panel {
      width: 130px; flex-shrink: 0; background: var(--surface-deep);
      border-right: 1px solid rgba(255,255,255,.1); padding: .6rem;
      transform: translateX(-100%); transition: transform 400ms cubic-bezier(.4,0,.2,1);
      display: flex; flex-direction: column; gap: .3rem;
    }
    .sidebar-panel.open { transform: translateX(0) }
    .sidebar-nav-item {
      display: flex; align-items: center; gap: .45rem; padding: .32rem .45rem;
      border-radius: var(--r-sm); font-size: .63rem; color: var(--t2); cursor: pointer;
      transition: background var(--tf), color var(--tf);
    }
    .sidebar-nav-item:hover, .sidebar-nav-item.active { background: var(--accent-dim); color: var(--accent) }
    .sidebar-content { flex: 1; padding: .65rem; display: flex; flex-direction: column; gap: .35rem }
    .sidebar-line { height: 7px; border-radius: 99px; background: rgba(255,255,255,.06) }
    .sidebar-line--short { width: 55% }
    .sidebar-toggle {
      position: absolute; top: .4rem; left: .4rem;
      background: rgba(255,255,255,.07); border: 1px solid rgba(255,255,255,.12);
      border-radius: var(--r-sm); color: var(--t1);
      width: 26px; height: 26px; cursor: pointer;
      display: flex; align-items: center; justify-content: center;
      font-size: .75rem; z-index: 2;
      transition: border-color var(--tf), background var(--tf);
    }
    .sidebar-toggle:hover, .sidebar-toggle.open { border-color: var(--accent); background: var(--accent-dim) }

    /* SKELETON */
    .skeleton-card {
      background: rgba(255,255,255,.04); border: 1px solid rgba(255,255,255,.07);
      border-radius: var(--r-md); padding: 1rem; display: flex; flex-direction: column; gap: .7rem;
    }
    .sk-row   { display: flex; align-items: center; gap: .75rem }
    .sk-avatar { width: 36px; height: 36px; border-radius: 50%; flex-shrink: 0 }
    .sk-lines  { flex: 1; display: flex; flex-direction: column; gap: .4rem }
    .sk-block {
      height: 10px; border-radius: 99px; background: rgba(255,255,255,.08);
      position: relative; overflow: hidden;
    }
    .sk-block::after {
      content: ''; position: absolute; inset: 0;
      background: linear-gradient(90deg,transparent 0%,rgba(255,255,255,.12) 40%,rgba(255,255,255,.18) 50%,rgba(255,255,255,.12) 60%,transparent 100%);
      transform: translateX(-100%); animation: shimmer 1.6s infinite;
    }
    .sk-w100 { width: 100% } .sk-w80 { width: 80% } .sk-w60 { width: 60% } .sk-w40 { width: 40% }
    .skeleton-card.loaded .skeleton-placeholder { display: none }
    .skeleton-real {
      display: none; font-size: .7rem; color: var(--t2); line-height: 1.6;
      animation: fadeIn 500ms ease forwards;
    }
    .skeleton-real strong { color: var(--t1) }
    .skeleton-card.loaded .skeleton-real { display: block }

    /* SLIDER */
    .slider-wrap { display: flex; flex-direction: column; gap: .6rem }
    .slider-item { display: flex; flex-direction: column; gap: .4rem }
    .slider-item__meta  { display: flex; justify-content: space-between; font-size: .62rem; color: var(--t2) }
    .slider-item__label { color: var(--t1) }
    .slider-track  { position: relative; height: 6px; background: rgba(255,255,255,.1); border-radius: 99px }
    .slider-fill   { position: absolute; left: 0; top: 0; height: 100%; border-radius: 99px; transition: width 80ms linear }
    .slider-fill--yellow { background: var(--accent) }
    .slider-fill--green  { background: var(--ok) }
    .slider-fill--blue   { background: var(--info) }
    .slider-thumb {
      position: absolute; top: 50%; width: 14px; height: 14px; border-radius: 50%;
      background: #fff; border: 2px solid var(--accent);
      transform: translate(-50%,-50%); transition: left 80ms linear;
      box-shadow: 0 1px 4px rgba(0,0,0,.4);
    }

    /* STEPPER */
    .stepper { display: flex; flex-direction: column }
    .stepper__step { display: flex; gap: .85rem; position: relative }
    .stepper__step:not(:last-child) .stepper__spine::after {
      content: ''; position: absolute; top: 28px; left: 13px; width: 2px; height: calc(100% - 4px);
      background: rgba(255,255,255,.1); transition: background 400ms; z-index: 0;
    }
    .stepper__step.done .stepper__spine::after { background: var(--accent) }
    .stepper__spine { position: relative; display: flex; flex-direction: column; align-items: center; flex-shrink: 0; width: 28px }
    .stepper__circle {
      width: 28px; height: 28px; border-radius: 50%;
      border: 2px solid rgba(255,255,255,.18); background: rgba(255,255,255,.05);
      display: flex; align-items: center; justify-content: center;
      font-size: .6rem; font-weight: 700; color: var(--t2);
      transition: background 350ms, border-color 350ms, color 350ms; z-index: 1; position: relative;
    }
    .stepper__step.active .stepper__circle { border-color: var(--accent); background: var(--accent-dim); color: var(--accent) }
    .stepper__step.done   .stepper__circle { border-color: var(--accent); background: var(--accent);     color: #000 }
    .stepper__body  { padding: .1rem 0 .7rem; flex: 1 }
    .stepper__title { font-size: .75rem; font-weight: 700; color: var(--t2); transition: color 350ms; margin-bottom: .2rem }
    .stepper__step.active .stepper__title, .stepper__step.done .stepper__title { color: var(--t1) }
    .stepper__desc {
      font-size: .65rem; color: var(--t2); line-height: 1.5;
      max-height: 0; overflow: hidden; opacity: 0; transition: max-height 350ms, opacity 350ms;
    }
    .stepper__step.active .stepper__desc { max-height: 60px; opacity: 1 }

    /* TAB BAR */
    .tab-bar {
      display: flex; justify-content: space-around; align-items: center;
      background: var(--surface-deep); border: 1px solid rgba(255,255,255,.1); border-radius: var(--r-md); padding: .5rem 0;
    }
    .tab-bar__item {
      display: flex; flex-direction: column; align-items: center; gap: .2rem;
      font-size: .55rem; color: var(--t2); cursor: pointer; padding: .2rem .6rem;
      border-radius: var(--r-sm); transition: color var(--tf); user-select: none; position: relative;
    }
    .tab-bar__item.active { color: var(--accent) }
    .tab-bar__icon { font-size: 1.1rem; line-height: 1 }
    .tab-bar__dot  { position: absolute; top: .15rem; right: .4rem; width: 5px; height: 5px; border-radius: 50%; background: var(--err) }

    /* TABS */
    .wizard        { display: flex; flex-direction: column }
    .wizard__tabs  { display: flex; border-bottom: 1px solid rgba(255,255,255,.1) }
    .wizard__tab {
      flex: 1; padding: .5rem .4rem; font-size: .62rem; letter-spacing: .05em;
      text-align: center; color: var(--t2); cursor: pointer;
      border-bottom: 2px solid transparent;
      transition: color var(--tf), border-color var(--tf); user-select: none;
    }
    .wizard__tab.active { color: var(--accent); border-bottom-color: var(--accent) }
    .wizard__panels { position: relative; min-height: 56px; margin-top: .75rem }
    .wizard__panel {
      position: absolute; inset: 0; font-size: .68rem; color: var(--t2); line-height: 1.6;
      opacity: 0; transform: translateY(4px);
      transition: opacity 300ms, transform 300ms; pointer-events: none;
    }
    .wizard__panel.active { opacity: 1; transform: translateY(0); pointer-events: all }

    /* CHIPS */
    .chips-wrap { display: flex; flex-wrap: wrap; gap: .45rem }
    .chip {
      display: inline-flex; align-items: center; gap: .35rem; padding: .3rem .65rem;
      border-radius: 99px; border: 1px solid rgba(255,255,255,.15);
      font-size: .62rem; color: var(--t2); cursor: pointer; user-select: none;
      transition: border-color 250ms, color 250ms, background 250ms, transform 150ms;
    }
    .chip.active { border-color: var(--accent); color: var(--accent); background: var(--accent-dim); transform: scale(1.04) }
    .chip__dot   { width: 6px; height: 6px; border-radius: 50%; background: currentColor; flex-shrink: 0 }

    /* TOAST */
    .toast-stack { display: flex; flex-direction: column; gap: .4rem; overflow: hidden }
    .toast {
      display: flex; align-items: center; gap: .6rem; padding: .55rem .75rem;
      border-radius: var(--r-md); border-left: 3px solid transparent; font-size: .68rem;
      opacity: 0; transform: translateX(40px); transition: opacity 400ms, transform 400ms;
      flex-shrink: 0;
    }
    .toast.visible { opacity: 1; transform: translateX(0) }
    .toast.exit    { opacity: 0; transform: translateX(40px) }
    .toast--success { background: rgba(76,175,136,.12); border-color: var(--ok) }
    .toast--danger  { background: rgba(224,90,90,.12);  border-color: var(--err) }
    .toast--info    { background: rgba(90,180,224,.12); border-color: var(--info) }
    .toast__icon  { font-size: .95rem; flex-shrink: 0 }
    .toast__msg   { flex: 1; color: var(--t1); line-height: 1.4 }
    .toast__close { cursor: pointer; color: var(--t2); font-size: .9rem; line-height: 1; transition: color var(--tf) }
    .toast__close:hover { color: var(--t1) }

    /* TOGGLE SWITCH */
    .toggle-list { display: flex; flex-direction: column; gap: .6rem }
    .toggle-row  { display: flex; align-items: center; justify-content: space-between; font-size: .72rem }
    .toggle-row__label { color: var(--t1) }
    .toggle-row__sub   { font-size: .6rem; color: var(--t2); margin-top: .1rem }
    .toggle { position: relative; width: 44px; height: 24px; flex-shrink: 0 }
    .toggle__input { opacity: 0; width: 0; height: 0; position: absolute }
    .toggle__track {
      position: absolute; inset: 0; border-radius: 99px;
      background: rgba(255,255,255,.12); cursor: pointer; transition: background 300ms;
    }
    .toggle__input:checked + .toggle__track { background: var(--accent) }
    .toggle__thumb {
      position: absolute; top: 3px; left: 3px; width: 18px; height: 18px;
      border-radius: 50%; background: #fff; pointer-events: none;
      transition: transform 300ms cubic-bezier(.4,0,.2,1); box-shadow: 0 1px 4px rgba(0,0,0,.4);
    }
    .toggle__input:checked ~ .toggle__thumb { transform: translateX(20px) }

    /* ─── FOOTER ─────────────────────────────────────────── */
    .page-footer {
      text-align: center; margin-top: 4rem; font-size: .6rem;
      color: rgba(255,255,255,.25); letter-spacing: .15em; text-transform: uppercase;
      position: relative; z-index: 1;
    }

    /* ─── PAUSE MODE ─────────────────────────────────────── */
    .card.paused-mode .auto-badge           { opacity: .5 }
    .card.paused-mode .auto-badge::before   { animation: none; background: var(--t2) }
    .card.paused-mode .card__demo           { pointer-events: none; user-select: none }
    .card.paused-mode .auto-badge           { cursor: pointer; pointer-events: all; color: var(--accent) }
    .card.paused-mode .auto-badge:hover     { color: var(--t1) }
    .card.paused-mode .auto-badge.is-playing::before { animation: pulse-dot 1s infinite; background: var(--ok) }
    .card.paused-mode .auto-badge.is-playing         { color: var(--ok) }

    /* ─── DEMO CONTROLS — play/pause button ─────────────── */
    .demo-controls {
      display: flex; justify-content: center; align-items: center; gap: 1rem; margin-bottom: 2rem;
    }

    /* Icon-only circular play/pause button */
    .demo-play-pause {
      position: relative;
      width: 48px; height: 48px;
      border-radius: 50%;
      background: rgba(255,255,255,.06);
      border: 1px solid rgba(255,255,255,.14);
      cursor: pointer;
      display: flex; align-items: center; justify-content: center;
      transition: background var(--tf), border-color var(--tf), transform 120ms;
      outline: none;
    }
    .demo-play-pause:hover { background: rgba(255,255,255,.11); border-color: var(--accent) }
    .demo-play-pause:active { transform: scale(.93) }
    .demo-play-pause.paused { border-color: var(--accent); background: var(--accent-dim) }

    /* SVG icon inside the button */
    .demo-play-pause svg { width: 18px; height: 18px; fill: var(--t1); transition: fill var(--tf) }
    .demo-play-pause.paused svg { fill: var(--accent) }

    /* Tooltip on hover */
    .demo-play-pause::after {
      content: attr(data-tooltip);
      position: absolute;
      bottom: calc(100% + 8px);
      left: 50%; transform: translateX(-50%);
      background: rgba(10,10,10,.9);
      color: var(--t1);
      font-family: var(--mono); font-size: .58rem; letter-spacing: .06em;
      white-space: nowrap;
      padding: .3rem .65rem; border-radius: var(--r-sm);
      opacity: 0; pointer-events: none;
      transition: opacity 180ms ease;
    }
    .demo-play-pause:hover::after { opacity: 1 }

    /* ─── RESPONSIVE ─────────────────────────────────────── */
    @media(max-width:640px) {
      body { padding: 2rem 1rem 6rem }
      .page-header { margin-bottom: 1.5rem }
      .desktop-only { display: none !important }
      .mobile-gallery { display: block }
    }
    @media(min-width:641px) {
      .mobile-only { display: none !important }
    }
  </style>
</head>

<body>

  <header class="page-header">
    <h1 class="page-header__title">UI <span>Elements</span></h1>
    <p class="page-header__sub">Demo interattiva dei 32 componenti UI più comuni</p>
  </header>

  <!-- Play/pause button with SVG icon and aria-label for screen readers -->
  <div class="demo-controls">
    <button
      id="toggleInteractivity"
      class="demo-play-pause"
      aria-label="Metti in pausa la demo automatica"
      data-tooltip="Metti in pausa"
    >
      <!-- Pause icon (shown by default, auto-demo is running) -->
      <svg id="iconPause" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
        <rect x="5" y="4" width="4" height="16" rx="1"/>
        <rect x="15" y="4" width="4" height="16" rx="1"/>
      </svg>
      <!-- Play icon (shown when paused) -->
      <svg id="iconPlay" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" style="display:none">
        <path d="M6 4l14 8-14 8V4z"/>
      </svg>
    </button>
  </div>

  <div class="layout">
    <div id="desktopPagesContainer" class="desktop-only"></div>
    <div class="pagination desktop-only" id="desktopPagination"></div>
    <div class="mobile-gallery mobile-only" id="mobileGallery">
      <div class="mobile-track-wrap">
        <div class="mobile-track" id="mobileTrack"></div>
      </div>
      <div class="mobile-hint">
        <button class="mobile-hint__arrow" id="mobilePrev" aria-label="Precedente">
          <svg viewBox="0 0 24 24"><polyline points="15 18 9 12 15 6"/></svg>
        </button>
        <div class="mobile-hint__dots">
          <div class="pagination" id="mobilePagination"></div>
        </div>
        <button class="mobile-hint__arrow" id="mobileNext" aria-label="Successivo">
          <svg viewBox="0 0 24 24"><polyline points="9 6 15 12 9 18"/></svg>
        </button>
      </div>
    </div>
  </div>

  <template id="cardTemplates">

    <!-- 01: ACCORDION -->
    <section class="card" data-component="accordion">
      <span class="auto-badge" aria-label="Demo automatica in corso">auto-demo</span>
      <span class="card__tag">componente 01</span>
      <h2 class="card__title">Accordion</h2>
      <p class="card__desc">Intestazioni disposte verticalmente che si espandono e collassano per rivelare contenuto. Ideale per FAQ e informazioni gerarchiche dense.</p>
      <div class="card__demo">
        <div class="accordion" role="presentation">
          <div class="accordion-item accordion-item--open">
            <div class="accordion-item__header" role="button" aria-expanded="true">
              <span>Cos'è un accordion?</span><span class="accordion-item__chevron">▾</span>
            </div>
            <div class="accordion-item__body">Un pattern UI che alterna la visibilità delle sezioni, aiutando gli utenti a navigare contenuti densi senza scorrere.</div>
          </div>
          <div class="accordion-item">
            <div class="accordion-item__header" role="button" aria-expanded="false">
              <span>Quando usarlo?</span><span class="accordion-item__chevron">▾</span>
            </div>
            <div class="accordion-item__body">Usalo per FAQ, pannelli impostazioni o contenuti gerarchici dove gli utenti necessitano selettivamente di dettagli.</div>
          </div>
          <div class="accordion-item">
            <div class="accordion-item__header" role="button" aria-expanded="false">
              <span>È accessibile?</span><span class="accordion-item__chevron">▾</span>
            </div>
            <div class="accordion-item__body">Sì — con aria-expanded, aria-controls e supporto tastiera (Invio / Spazio).</div>
          </div>
        </div>
      </div>
    </section>

    <!-- 02: BADGE -->
    <section class="card" data-component="badge">
      <span class="auto-badge">auto-demo</span>
      <span class="card__tag">componente 02</span>
      <h2 class="card__title">Badge</h2>
      <p class="card__desc">Un piccolo contatore o indicatore di stato sovrapposto a un'icona o pulsante. Comunica elementi non letti, avvisi o quantità a colpo d'occhio.</p>
      <div class="card__demo">
        <div class="badge-showcase">
          <div class="badge-row">
            <div class="badge-target" aria-label="Notifiche">🔔<div class="badge badge--red">3</div></div>
            <span class="badge-desc">Notifiche</span>
          </div>
          <div class="badge-row">
            <div class="badge-target" aria-label="Messaggi">💬<div class="badge badge--yellow">12</div></div>
            <span class="badge-desc">Messaggi</span>
          </div>
          <div class="badge-row">
            <div class="badge-target" aria-label="Task completati">✅<div class="badge badge--green">5</div></div>
            <span class="badge-desc">Task completati</span>
          </div>
        </div>
      </div>
    </section>

    <!-- 03: BENTO MENU -->
    <section class="card" data-component="bento-menu">
      <span class="auto-badge">auto-demo</span>
      <span class="card__tag">componente 03</span>
      <h2 class="card__title">Bento Menu</h2>
      <p class="card__desc">Un'icona a griglia (ispirata alle lunch box giapponesi) che rivela un pannello di selezione app. Comune nelle suite di produttività come Google Workspace.</p>
      <div class="card__demo">
        <div class="single-menu-stage">
          <button class="single-trigger" data-open="false" aria-label="Apri menu app">⊞</button>
          <div class="single-panel bento-grid-panel">
            <span class="bento-cell">✉</span><span class="bento-cell">📅</span><span class="bento-cell">📁</span>
            <span class="bento-cell">💬</span><span class="bento-cell">📊</span><span class="bento-cell">⚙</span>
            <span class="bento-cell">🌐</span><span class="bento-cell">🚀</span><span class="bento-cell">🔔</span>
          </div>
        </div>
      </div>
    </section>

    <!-- 04: BREADCRUMB -->
    <section class="card" data-component="breadcrumb">
      <span class="auto-badge">auto-demo</span>
      <span class="card__tag">componente 04</span>
      <h2 class="card__title">Breadcrumb</h2>
      <p class="card__desc">Un percorso di navigazione secondario che mostra la posizione dell'utente nella gerarchia del sito, con link cliccabili alle pagine padre.</p>
      <div class="card__demo">
        <nav class="breadcrumb" aria-label="Percorso di navigazione"></nav>
        <div class="breadcrumb-path-display">Percorso: <span></span></div>
      </div>
    </section>

    <!-- 05: BUTTON -->
    <section class="card" data-component="button">
      <span class="auto-badge">auto-demo</span>
      <span class="card__tag">componente 05</span>
      <h2 class="card__title">Button</h2>
      <p class="card__desc">Il trigger dell'azione principale. Disponibile in varianti — primary, secondary, danger, ghost — più stati di caricamento e disabilitato.</p>
      <div class="card__demo">
        <div class="button-showcase">
          <div class="btn-row">
            <button class="btn btn--primary">Salva</button>
            <button class="btn btn--secondary">Annulla</button>
            <button class="btn btn--ghost">Salta</button>
          </div>
          <div class="btn-row">
            <button class="btn btn--danger">Elimina</button>
            <button class="btn btn--primary btn--op35" disabled>Disabilitato</button>
            <button class="btn btn--primary btn--loading-demo"><span class="btn__spinner"></span>Salvando…</button>
          </div>
        </div>
      </div>
    </section>

    <!-- 06: CARD -->
    <section class="card" data-component="card-component">
      <span class="auto-badge">auto-demo</span>
      <span class="card__tag">componente 06</span>
      <h2 class="card__title">Card</h2>
      <p class="card__desc">Una superficie contenitore che raggruppa contenuti correlati — titolo, metadati, azioni. Funge da punto d'ingresso verso il dettaglio.</p>
      <div class="card__demo">
        <div class="card-demo-grid">
          <div class="card-demo-item">
            <div class="card-demo-item__title">Design System v2</div>Aggiornato 2h fa · 14 componenti
          </div>
          <div class="card-demo-item">
            <div class="card-demo-item__title">Mobile Onboarding</div>Aggiornato ieri · 7 schermate
          </div>
          <div class="card-demo-item">
            <div class="card-demo-item__title">Brand Guidelines</div>Aggiornato 3 giorni fa · 32 pagine
          </div>
        </div>
      </div>
    </section>

    <!-- 07: CAROUSEL -->
    <section class="card" data-component="carousel">
      <span class="auto-badge">auto-demo</span>
      <span class="card__tag">componente 07</span>
      <h2 class="card__title">Carousel</h2>
      <p class="card__desc">Una presentazione che scorre tra elementi nello stesso spazio. Supporta navigazione manuale tramite frecce e punti, con avanzamento automatico.</p>
      <div class="card__demo">
        <div class="carousel" role="region" aria-label="Carousel">
          <div class="carousel__track">
            <div class="carousel__slide carousel__slide--1">Slide 01<span>Funzionalità prodotto</span></div>
            <div class="carousel__slide carousel__slide--2">Slide 02<span>Testimonianza</span></div>
            <div class="carousel__slide carousel__slide--3">Slide 03<span>Case Study</span></div>
            <div class="carousel__slide carousel__slide--4">Slide 04<span>Call to Action</span></div>
          </div>
          <div class="carousel__arrows">
            <button class="carousel__arrow carousel__arrow--prev" aria-label="Precedente">‹</button>
            <button class="carousel__arrow carousel__arrow--next" aria-label="Successivo">›</button>
          </div>
        </div>
        <div class="carousel__dots" role="tablist" aria-label="Seleziona slide"></div>
      </div>
    </section>

    <!-- 08: CHECKBOX -->
    <section class="card" data-component="checkbox">
      <span class="auto-badge">auto-demo</span>
      <span class="card__tag">componente 08</span>
      <h2 class="card__title">Checkbox</h2>
      <p class="card__desc">Permette la selezione multipla indipendente. Supporta stati selezionato, deselezionato e indeterminato per la selezione parziale di gruppi.</p>
      <div class="card__demo">
        <div class="checkbox-group">
          <div class="checkbox-item checkbox-item--checked"><div class="checkbox-box"></div>Abilita notifiche</div>
          <div class="checkbox-item"><div class="checkbox-box"></div>Mostra nella barra laterale</div>
          <div class="checkbox-item checkbox-item--indeterminate"><div class="checkbox-box"></div>Seleziona tutto (parziale)</div>
          <div class="checkbox-item checkbox-item--checked"><div class="checkbox-box"></div>Salvataggio automatico</div>
        </div>
      </div>
    </section>

    <!-- 09: COMMENT -->
    <section class="card" data-component="comment">
      <span class="auto-badge">auto-demo</span>
      <span class="card__tag">componente 09</span>
      <h2 class="card__title">Comment</h2>
      <p class="card__desc">Un elemento di discussione contestuale allegato a contenuti. Abilita feedback inline e collaborazione direttamente nell'interfaccia.</p>
      <div class="card__demo">
        <div class="comment-thread">
          <div class="comment">
            <div class="comment__avatar comment__avatar--a">M</div>
            <div class="comment__body">
              <div class="comment__author">Maria</div>
              <div class="comment__text">Ottimo! Possiamo ritoccare la spaziatura?</div>
              <div class="comment__time">5 min fa</div>
            </div>
          </div>
          <div class="comment">
            <div class="comment__avatar comment__avatar--b">J</div>
            <div class="comment__body">
              <div class="comment__author">Jake</div>
              <div class="comment__text">Buona idea — sto mandando la fix adesso.</div>
              <div class="comment__time">3 min fa</div>
            </div>
          </div>
          <div class="comment comment--new">
            <div class="comment__avatar comment__avatar--c">S</div>
            <div class="comment__body">
              <div class="comment__author">Sara</div>
              <div class="comment__text">👍 Approvato — pronto per il rilascio!</div>
              <div class="comment__time">adesso</div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- 10: DÖNER MENU -->
    <section class="card" data-component="doner-menu">
      <span class="auto-badge">auto-demo</span>
      <span class="card__tag">componente 10</span>
      <h2 class="card__title">Döner Menu</h2>
      <p class="card__desc">Tre linee di lunghezza decrescente, che ricordano una fetta di döner. Solitamente attiva pannelli di filtro, ordinamento o visualizzazione.</p>
      <div class="card__demo">
        <div class="single-menu-stage">
          <button class="single-trigger doner-icon" data-open="false" aria-label="Apri opzioni">
            <span></span><span></span><span></span>
          </button>
          <div class="single-panel list-panel">
            <div class="list-opt">Filtra per stato</div>
            <div class="list-opt">Ordina per data</div>
            <div class="list-opt">Raggruppa per team</div>
          </div>
        </div>
      </div>
    </section>

    <!-- 11: DROPDOWN -->
    <section class="card" data-component="dropdown">
      <span class="auto-badge">auto-demo</span>
      <span class="card__tag">componente 11</span>
      <h2 class="card__title">Dropdown</h2>
      <p class="card__desc">Un pulsante che al click rivela un elenco di opzioni. Risparmia spazio rispetto a mostrare tutte le scelte contemporaneamente.</p>
      <div class="card__demo">
        <div class="dropdown-wrap">
          <div class="dropdown-trigger" role="combobox" aria-haspopup="listbox" aria-expanded="false">
            <span class="dropdown-value">Seleziona ruolo…</span>
            <span class="dropdown-trigger__arrow">▾</span>
          </div>
          <div class="dropdown-list" role="listbox">
            <div class="dropdown-option" role="option">Admin</div>
            <div class="dropdown-option" role="option">Editor</div>
            <div class="dropdown-option" role="option">Viewer</div>
            <div class="dropdown-option" role="option">Guest</div>
          </div>
        </div>
      </div>
    </section>

    <!-- 12: FORM -->
    <section class="card" data-component="form">
      <span class="auto-badge">auto-demo</span>
      <span class="card__tag">componente 12</span>
      <h2 class="card__title">Form</h2>
      <p class="card__desc">Una raccolta strutturata di campi input che acquisisce dati utente, con etichette, feedback di validazione e un'azione di invio.</p>
      <div class="card__demo">
        <div class="form-demo">
          <div class="form-field">
            <div class="form-field__label">Nome</div>
            <input class="form-field__input" type="text" placeholder="Il tuo nome" readonly />
          </div>
          <div class="form-field">
            <div class="form-field__label">Email</div>
            <input class="form-field__input form-email-input" type="text" placeholder="tu@esempio.com" readonly />
          </div>
          <div style="display:flex;justify-content:flex-end;margin-top:.3rem">
            <button class="btn btn--primary form-submit-btn">Invia</button>
          </div>
        </div>
      </div>
    </section>

    <!-- 13: HAMBURGER MENU -->
    <section class="card" data-component="hamburger-menu">
      <span class="auto-badge">auto-demo</span>
      <span class="card__tag">componente 13</span>
      <h2 class="card__title">Hamburger Menu</h2>
      <p class="card__desc">Tre linee orizzontali (☰) che attivano un drawer di navigazione. Pattern standard per collassare il nav principale su schermi piccoli.</p>
      <div class="card__demo">
        <div class="single-menu-stage">
          <button class="single-trigger" data-open="false" aria-label="Apri navigazione">☰</button>
          <div class="single-panel list-panel nav-list-panel">
            <div class="list-opt list-opt--active">🏠 Home</div>
            <div class="list-opt">📁 Progetti</div>
            <div class="list-opt">👥 Team</div>
            <div class="list-opt">⚙ Impostazioni</div>
          </div>
        </div>
      </div>
    </section>

    <!-- 14: ICON -->
    <section class="card" data-component="icon">
      <span class="auto-badge">auto-demo</span>
      <span class="card__tag">componente 14</span>
      <h2 class="card__title">Icon</h2>
      <p class="card__desc">Un piccolo simbolo grafico che rappresenta un'azione, un oggetto o un concetto. Migliora la scansionabilità e riduce la dipendenza dalle etichette testuali.</p>
      <div class="card__demo">
        <div class="icon-grid">
          <div class="icon-item"><span class="icon-item__glyph">💾</span><span class="icon-item__name">save</span></div>
          <div class="icon-item"><span class="icon-item__glyph">⚙</span><span class="icon-item__name">settings</span></div>
          <div class="icon-item"><span class="icon-item__glyph">🔍</span><span class="icon-item__name">search</span></div>
          <div class="icon-item"><span class="icon-item__glyph">🔔</span><span class="icon-item__name">bell</span></div>
          <div class="icon-item"><span class="icon-item__glyph">👤</span><span class="icon-item__name">user</span></div>
          <div class="icon-item"><span class="icon-item__glyph">📅</span><span class="icon-item__name">calendar</span></div>
          <div class="icon-item"><span class="icon-item__glyph">❤</span><span class="icon-item__name">heart</span></div>
          <div class="icon-item"><span class="icon-item__glyph">🏠</span><span class="icon-item__name">home</span></div>
        </div>
      </div>
    </section>

    <!-- 15: INPUT FIELD -->
    <section class="card" data-component="input-field">
      <span class="auto-badge">auto-demo</span>
      <span class="card__tag">componente 15</span>
      <h2 class="card__title">Input Field</h2>
      <p class="card__desc">Accetta testo libero. Ha stati visivi distinti: default, focus, errore e successo — ognuno comunica lo stato di validazione.</p>
      <div class="card__demo">
        <div class="input-showcase">
          <div class="input-field-wrap">
            <div class="input-field-label">Email</div>
            <input class="input-field__el" type="text" placeholder="tu@esempio.com" readonly />
            <div class="input-field__hint"></div>
          </div>
        </div>
      </div>
    </section>

    <!-- 16: KEBAB MENU -->
    <section class="card" data-component="kebab-menu">
      <span class="auto-badge">auto-demo</span>
      <span class="card__tag">componente 16</span>
      <h2 class="card__title">Kebab Menu</h2>
      <p class="card__desc">Tre punti verticali (⋮) che aprono un menu contestuale per un elemento di lista. Comune su Android e Material Design.</p>
      <div class="card__demo">
        <div class="kebab-stage">
          <div class="kebab-row">
            <span class="kebab-row__name">design_v3.fig</span>
            <div style="position:relative">
              <button class="kebab-btn" aria-label="Azioni">⋮</button>
              <div class="kebab-dropdown"><span class="kebab-opt">Rinomina</span><span class="kebab-opt">Duplica</span><span class="kebab-opt">Elimina</span></div>
            </div>
          </div>
          <div class="kebab-row">
            <span class="kebab-row__name">prototype_v1.fig</span>
            <div style="position:relative">
              <button class="kebab-btn" aria-label="Azioni">⋮</button>
              <div class="kebab-dropdown"><span class="kebab-opt">Rinomina</span><span class="kebab-opt">Duplica</span><span class="kebab-opt">Elimina</span></div>
            </div>
          </div>
          <div class="kebab-row">
            <span class="kebab-row__name">icons_export.zip</span>
            <div style="position:relative">
              <button class="kebab-btn" aria-label="Azioni">⋮</button>
              <div class="kebab-dropdown"><span class="kebab-opt">Rinomina</span><span class="kebab-opt">Duplica</span><span class="kebab-opt">Elimina</span></div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- 17: LOADER / SPINNER -->
    <section class="card" data-component="spinner">
      <span class="auto-badge">auto-demo</span>
      <span class="card__tag">componente 17</span>
      <h2 class="card__title">Loader / Spinner</h2>
      <p class="card__desc">Un indicatore rotante che segnala un progresso indeterminato. Usato quando il sistema è in elaborazione ma la durata è sconosciuta.</p>
      <div class="card__demo">
        <div class="spinner-showcase">
          <div class="spinner-row"><div class="spinner spinner--sm" role="status" aria-label="Caricamento"></div><span class="spinner-label">Small — azione inline</span></div>
          <div class="spinner-row"><div class="spinner spinner--md" role="status" aria-label="Caricamento"></div><span class="spinner-label">Medium — card o sezione</span></div>
          <div class="spinner-row"><div class="spinner spinner--lg" role="status" aria-label="Caricamento"></div><span class="spinner-label">Large — caricamento pagina</span></div>
        </div>
      </div>
    </section>

    <!-- 18: MEATBALL MENU -->
    <section class="card" data-component="meatball-menu">
      <span class="auto-badge">auto-demo</span>
      <span class="card__tag">componente 18</span>
      <h2 class="card__title">Meatball Menu</h2>
      <p class="card__desc">Tre punti orizzontali (⋯) che rivelano azioni in overflow in una toolbar o intestazione. Comune su iOS e layout orizzontali.</p>
      <div class="card__demo">
        <div class="meatball-stage">
          <div class="meatball-toolbar">
            <div class="meatball-tool">B</div>
            <div class="meatball-tool"><i>I</i></div>
            <div class="meatball-tool"><u>U</u></div>
            <div class="meatball-sep"></div>
            <div class="meatball-tool">🔗</div>
            <div class="meatball-tool">📷</div>
            <div style="position:relative;margin-left:auto">
              <button class="meatball-btn" aria-label="Altre opzioni">⋯</button>
              <div class="meatball-dropdown">
                <span class="meatball-opt">Condividi</span>
                <span class="meatball-opt">Esporta PDF</span>
                <span class="meatball-opt">Archivia</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- 19: MODAL / DIALOG -->
    <section class="card" data-component="modal">
      <span class="auto-badge">auto-demo</span>
      <span class="card__tag">componente 19</span>
      <h2 class="card__title">Modal / Dialog</h2>
      <p class="card__desc">Un overlay che interrompe il flusso corrente per richiedere un'azione o conferma, bloccando l'interazione con il contenuto sottostante.</p>
      <div class="card__demo">
        <div class="modal-stage">
          <div class="modal-stage__bg">
            <div class="modal-bg-line"></div>
            <div class="modal-bg-line modal-bg-line--short"></div>
            <div class="modal-bg-line"></div>
            <div class="modal-bg-line modal-bg-line--short"></div>
          </div>
          <div class="modal-overlay" role="dialog" aria-modal="true" aria-label="Conferma eliminazione">
            <div class="modal-dialog">
              <div class="modal-dialog__title">Eliminare il file?</div>
              <div class="modal-dialog__body">Questa operazione non può essere annullata. Il file verrà rimosso definitivamente.</div>
              <div class="modal-dialog__actions">
                <button class="modal-btn modal-btn--cancel">Annulla</button>
                <button class="modal-btn modal-btn--confirm">Elimina</button>
              </div>
            </div>
          </div>
        </div>
        <div class="modal-trigger-row">
          <button class="modal-open-btn">Apri Modal</button>
          <span>oppure guarda la demo</span>
        </div>
      </div>
    </section>

    <!-- 20: PAGINATION -->
    <section class="card" data-component="pagination">
      <span class="auto-badge">auto-demo</span>
      <span class="card__tag">componente 20</span>
      <h2 class="card__title">Pagination</h2>
      <p class="card__desc">Suddivide un dataset ampio in pagine discrete, consentendo all'utente di scorrere in sequenza o saltare direttamente a un numero di pagina.</p>
      <div class="card__demo">
        <div class="pagination-demo" role="navigation" aria-label="Paginazione">
          <button class="pg-btn arrow pg-prev" aria-label="Pagina precedente">‹</button>
          <button class="pg-btn">1</button>
          <button class="pg-btn active" aria-current="page">2</button>
          <button class="pg-btn">3</button>
          <button class="pg-btn">4</button>
          <button class="pg-btn">5</button>
          <button class="pg-btn arrow pg-next" aria-label="Pagina successiva">›</button>
        </div>
      </div>
    </section>

    <!-- 21: PROGRESS BAR -->
    <section class="card" data-component="progress">
      <span class="auto-badge">auto-demo</span>
      <span class="card__tag">componente 21</span>
      <h2 class="card__title">Progress Bar</h2>
      <p class="card__desc">Comunica lo stato di completamento di un'attività. Può essere determinata (% nota) o indeterminata (durata sconosciuta).</p>
      <div class="card__demo">
        <div class="progress-list">
          <div class="progress-item">
            <div class="progress-item__meta"><span class="progress-item__label">Design</span><span class="progress-pct">0%</span></div>
            <div class="progress-bar__track"><div class="progress-bar__fill progress-bar__fill--yellow" data-target="92" role="progressbar" aria-valuemin="0" aria-valuemax="100" aria-valuenow="0"></div></div>
          </div>
          <div class="progress-item">
            <div class="progress-item__meta"><span class="progress-item__label">Sviluppo</span><span class="progress-pct">0%</span></div>
            <div class="progress-bar__track"><div class="progress-bar__fill progress-bar__fill--green" data-target="68" role="progressbar" aria-valuemin="0" aria-valuemax="100" aria-valuenow="0"></div></div>
          </div>
          <div class="progress-item">
            <div class="progress-item__meta"><span class="progress-item__label">Testing</span><span class="progress-pct">0%</span></div>
            <div class="progress-bar__track"><div class="progress-bar__fill progress-bar__fill--blue" data-target="41" role="progressbar" aria-valuemin="0" aria-valuemax="100" aria-valuenow="0"></div></div>
          </div>
        </div>
      </div>
    </section>

    <!-- 22: RADIO BUTTON -->
    <section class="card" data-component="radio">
      <span class="auto-badge">auto-demo</span>
      <span class="card__tag">componente 22</span>
      <h2 class="card__title">Radio Button</h2>
      <p class="card__desc">Permette la selezione di una sola opzione da un gruppo mutuamente esclusivo. Selezionarne uno deseleziona automaticamente gli altri.</p>
      <div class="card__demo">
        <div class="radio-group" role="radiogroup">
          <div class="radio-item radio-item--selected"><div class="radio-circle"></div>Piano gratuito</div>
          <div class="radio-item"><div class="radio-circle"></div>Pro — 12€/mese</div>
          <div class="radio-item"><div class="radio-circle"></div>Team — 49€/mese</div>
          <div class="radio-item"><div class="radio-circle"></div>Enterprise</div>
        </div>
      </div>
    </section>

    <!-- 23: SEARCH BAR -->
    <section class="card" data-component="search">
      <span class="auto-badge">auto-demo</span>
      <span class="card__tag">componente 23</span>
      <h2 class="card__title">Search Bar</h2>
      <p class="card__desc">Un campo di testo dedicato alla ricerca di contenuti. Spesso mostra suggerimenti in tempo reale mentre l'utente digita per velocizzare la navigazione.</p>
      <div class="card__demo">
        <div class="search-wrap" role="search">
          <span class="search-icon" aria-hidden="true">🔍</span>
          <input class="search-input" type="search" placeholder="Cerca…" readonly aria-label="Cerca" aria-autocomplete="list" />
          <div class="search-results" role="listbox">
            <div class="search-result"><span class="search-result__icon" aria-hidden="true">📁</span><span></span></div>
            <div class="search-result"><span class="search-result__icon" aria-hidden="true">👤</span><span></span></div>
            <div class="search-result"><span class="search-result__icon" aria-hidden="true">⚡</span><span></span></div>
          </div>
        </div>
      </div>
    </section>

    <!-- 24: SIDEBAR -->
    <section class="card" data-component="sidebar">
      <span class="auto-badge">auto-demo</span>
      <span class="card__tag">componente 24</span>
      <h2 class="card__title">Sidebar</h2>
      <p class="card__desc">Un pannello verticale che scivola dal bordo per rivelare navigazione o contenuto supplementare. Può essere persistente o collassabile.</p>
      <div class="card__demo">
        <div class="sidebar-stage">
          <div class="sidebar-panel" role="navigation" aria-label="Navigazione sidebar">
            <div class="sidebar-nav-item sidebar-nav-item--active"><span>⚡</span>Dashboard</div>
            <div class="sidebar-nav-item"><span>📁</span>Progetti</div>
            <div class="sidebar-nav-item"><span>👥</span>Team</div>
            <div class="sidebar-nav-item"><span>⚙</span>Impostazioni</div>
          </div>
          <div class="sidebar-content">
            <div class="sidebar-line"></div><div class="sidebar-line sidebar-line--short"></div>
            <div class="sidebar-line"></div><div class="sidebar-line sidebar-line--short"></div>
            <div class="sidebar-line"></div>
          </div>
          <button class="sidebar-toggle" aria-label="Mostra/nascondi sidebar">☰</button>
        </div>
      </div>
    </section>

    <!-- 25: SKELETON LOADER -->
    <section class="card" data-component="skeleton">
      <span class="auto-badge">auto-demo</span>
      <span class="card__tag">componente 25</span>
      <h2 class="card__title">Skeleton Loader</h2>
      <p class="card__desc">Un'anteprima segnaposto che imita la forma del contenuto in arrivo. Riduce il tempo di attesa percepito e previene lo spostamento del layout.</p>
      <div class="card__demo">
        <div class="skeleton-card">
          <div class="skeleton-placeholder" aria-hidden="true">
            <div class="sk-row">
              <div class="sk-avatar sk-block"></div>
              <div class="sk-lines">
                <div class="sk-block sk-w80"></div>
                <div class="sk-block sk-w60"></div>
              </div>
            </div>
            <div class="sk-block sk-w100"></div>
            <div class="sk-block sk-w100"></div>
            <div class="sk-block sk-w40"></div>
          </div>
          <div class="skeleton-real"><strong>Marie Curie</strong> — Fisica &amp; Chimica<br>"Nulla nella vita è da temere, solo da comprendere."</div>
        </div>
      </div>
    </section>

    <!-- 26: SLIDER -->
    <section class="card" data-component="slider">
      <span class="auto-badge">auto-demo</span>
      <span class="card__tag">componente 26</span>
      <h2 class="card__title">Slider</h2>
      <p class="card__desc">Permette di selezionare un valore da un range continuo trascinando un cursore. Ottimo per volume, luminosità o fasce di prezzo.</p>
      <div class="card__demo">
        <div class="slider-wrap">
          <div class="slider-item">
            <div class="slider-item__meta"><span class="slider-item__label">Volume</span><span class="slider-val-a">72</span></div>
            <div class="slider-track"><div class="slider-fill slider-fill--yellow" style="width:72%"></div><div class="slider-thumb" style="left:72%"></div></div>
          </div>
          <div class="slider-item">
            <div class="slider-item__meta"><span class="slider-item__label">Luminosità</span><span class="slider-val-b">45</span></div>
            <div class="slider-track"><div class="slider-fill slider-fill--green" style="width:45%"></div><div class="slider-thumb" style="left:45%"></div></div>
          </div>
          <div class="slider-item">
            <div class="slider-item__meta"><span class="slider-item__label">Contrasto</span><span class="slider-val-c">60</span></div>
            <div class="slider-track"><div class="slider-fill slider-fill--blue" style="width:60%"></div><div class="slider-thumb" style="left:60%"></div></div>
          </div>
        </div>
      </div>
    </section>

    <!-- 27: STEPPER -->
    <section class="card" data-component="stepper">
      <span class="auto-badge">auto-demo</span>
      <span class="card__tag">componente 27</span>
      <h2 class="card__title">Stepper</h2>
      <p class="card__desc">Un indicatore di progresso step-by-step che guida l'utente in un processo a più fasi, mostrando gli step completati, correnti e futuri.</p>
      <div class="card__demo">
        <div class="stepper" role="list">
          <div class="stepper__step" role="listitem">
            <div class="stepper__spine"><div class="stepper__circle">1</div></div>
            <div class="stepper__body"><div class="stepper__title">Dati account</div><div class="stepper__desc">Inserisci nome e indirizzo email.</div></div>
          </div>
          <div class="stepper__step" role="listitem">
            <div class="stepper__spine"><div class="stepper__circle">2</div></div>
            <div class="stepper__body"><div class="stepper__title">Dati di fatturazione</div><div class="stepper__desc">Aggiungi un metodo di pagamento per continuare.</div></div>
          </div>
          <div class="stepper__step" role="listitem">
            <div class="stepper__spine"><div class="stepper__circle">3</div></div>
            <div class="stepper__body"><div class="stepper__title">Conferma</div><div class="stepper__desc">Rivedi e conferma il tuo ordine.</div></div>
          </div>
          <div class="stepper__step" role="listitem">
            <div class="stepper__spine"><div class="stepper__circle">4</div></div>
            <div class="stepper__body"><div class="stepper__title">Completato</div><div class="stepper__desc">Benvenuto a bordo!</div></div>
          </div>
        </div>
      </div>
    </section>

    <!-- 28: TAB BAR -->
    <section class="card" data-component="tabbar">
      <span class="auto-badge">auto-demo</span>
      <span class="card__tag">componente 28</span>
      <h2 class="card__title">Tab Bar</h2>
      <p class="card__desc">Una barra di navigazione inferiore (comune su mobile) che consente di passare tra le sezioni principali dell'app. Ogni tab ha un'icona e un'etichetta.</p>
      <div class="card__demo">
        <div class="tab-bar" role="tablist">
          <div class="tab-bar__item tab-bar__item--active" role="tab" aria-selected="true"><span class="tab-bar__icon">🏠</span>Home</div>
          <div class="tab-bar__item tab-bar__item--notif" role="tab"><span class="tab-bar__dot"></span><span class="tab-bar__icon">💬</span>Chat</div>
          <div class="tab-bar__item" role="tab"><span class="tab-bar__icon">🔍</span>Cerca</div>
          <div class="tab-bar__item" role="tab"><span class="tab-bar__icon">👤</span>Profilo</div>
        </div>
      </div>
    </section>

    <!-- 29: TABS -->
    <section class="card" data-component="tabs">
      <span class="auto-badge">auto-demo</span>
      <span class="card__tag">componente 29</span>
      <h2 class="card__title">Tabs</h2>
      <p class="card__desc">Organizza contenuti correlati in pannelli commutabili all'interno della stessa vista. Il tab attivo è evidenziato con una sottolineatura o riempimento.</p>
      <div class="card__demo">
        <div class="wizard">
          <div class="wizard__tabs" role="tablist">
            <div class="wizard__tab wizard__tab--active" role="tab" aria-selected="true">Panoramica</div>
            <div class="wizard__tab" role="tab" aria-selected="false">Dettagli</div>
            <div class="wizard__tab" role="tab" aria-selected="false">Cronologia</div>
            <div class="wizard__tab" role="tab" aria-selected="false">Impostazioni</div>
          </div>
          <div class="wizard__panels">
            <div class="wizard__panel wizard__panel--active" role="tabpanel">Riepilogo ad alto livello degli obiettivi del progetto e dello stato attuale per gli stakeholder.</div>
            <div class="wizard__panel" role="tabpanel">Specifiche tecniche e analisi a livello di componente per il team di sviluppo.</div>
            <div class="wizard__panel" role="tabpanel">Voci del changelog e versioni precedenti archiviate come riferimento.</div>
            <div class="wizard__panel" role="tabpanel">Configura notifiche, permessi e integrazioni per questo progetto.</div>
          </div>
        </div>
      </div>
    </section>

    <!-- 30: TAGS / CHIPS -->
    <section class="card" data-component="chips">
      <span class="auto-badge">auto-demo</span>
      <span class="card__tag">componente 30</span>
      <h2 class="card__title">Tags / Chips</h2>
      <p class="card__desc">Etichette compatte e selezionabili per filtrare o categorizzare contenuti. Possono essere attivate e disattivate in modo indipendente.</p>
      <div class="card__demo">
        <div class="chips-wrap">
          <span class="chip chip--active"><span class="chip__dot"></span>Design</span>
          <span class="chip"><span class="chip__dot"></span>Sviluppo</span>
          <span class="chip chip--active"><span class="chip__dot"></span>Ricerca</span>
          <span class="chip"><span class="chip__dot"></span>Motion</span>
          <span class="chip"><span class="chip__dot"></span>Brand</span>
          <span class="chip chip--active"><span class="chip__dot"></span>Accessibilità</span>
          <span class="chip"><span class="chip__dot"></span>Mobile</span>
        </div>
      </div>
    </section>

    <!-- 31: TOAST NOTIFICATION -->
    <section class="card" data-component="toast">
      <span class="auto-badge">auto-demo</span>
      <span class="card__tag">componente 31</span>
      <h2 class="card__title">Toast Notification</h2>
      <p class="card__desc">Un breve messaggio non bloccante ai margini dello schermo. Informa l'utente di un evento e si chiude automaticamente dopo un breve intervallo.</p>
      <div class="card__demo">
        <div class="toast-stack" role="region" aria-live="polite" aria-label="Notifiche"></div>
      </div>
    </section>

    <!-- 32: TOGGLE SWITCH -->
    <section class="card" data-component="toggle">
      <span class="auto-badge">auto-demo</span>
      <span class="card__tag">componente 32</span>
      <h2 class="card__title">Toggle Switch</h2>
      <p class="card__desc">Un controllo binario che attiva o disattiva un'impostazione istantaneamente. Più chiaro di un checkbox per preferenze persistenti in tempo reale.</p>
      <div class="card__demo">
        <div class="toggle-list">
          <div class="toggle-row">
            <div><div class="toggle-row__label">Tema scuro</div><div class="toggle-row__sub">Usa il tema scuro</div></div>
            <label class="toggle"><input class="toggle__input" type="checkbox" checked /><span class="toggle__track"></span><span class="toggle__thumb"></span></label>
          </div>
          <div class="toggle-row">
            <div><div class="toggle-row__label">Notifiche</div><div class="toggle-row__sub">Ricevi avvisi push</div></div>
            <label class="toggle"><input class="toggle__input" type="checkbox" /><span class="toggle__track"></span><span class="toggle__thumb"></span></label>
          </div>
          <div class="toggle-row">
            <div><div class="toggle-row__label">Salvataggio auto</div><div class="toggle-row__sub">Salva le modifiche automaticamente</div></div>
            <label class="toggle"><input class="toggle__input" type="checkbox" checked /><span class="toggle__track"></span><span class="toggle__thumb"></span></label>
          </div>
        </div>
      </div>
    </section>

  </template>

  <footer class="page-footer">
    <p>32 UI Elements &middot; ordine alfabetico &middot; demo automatica al caricamento</p>
  </footer>

  <script>
    'use strict';

    /**
     * UI ELEMENTS — CORE ENGINE
     * Lazy-activated, IntersectionObserver-driven, accessible.
     */

    const CONFIG = {
      CARDS_PER_PAGE: 4,
      SWIPE_THRESHOLD: 50,
      DEMO_INTERVAL_SLOW: 2500,
      DEMO_INTERVAL_FAST: 1200
    };

    // Compact query helpers
    const $  = (sel, ctx = document) => ctx.querySelector(sel);
    const $$ = (sel, ctx = document) => Array.from(ctx.querySelectorAll(sel));

    /* ═══════════════════════════════════════════════════════
       COMPONENT LOGIC REGISTRY
       Each entry is a factory (card) => { start(), stop() }
    ═══════════════════════════════════════════════════════ */
    const ComponentRegistry = {

      accordion: (card) => {
        const items = $$('.accordion-item', card);
        let idx = 0, timer = null;
        const open = (i) => items.forEach((it, j) => {
          it.classList.toggle('accordion-item--open', j === i);
          it.querySelector('.accordion-item__header')?.setAttribute('aria-expanded', String(j === i));
        });
        // Allow manual click during auto-demo
        items.forEach((it, i) => it.querySelector('.accordion-item__header').addEventListener('click', () => { idx = i; open(i); }));
        return {
          start: () => { timer = setInterval(() => { idx = (idx + 1) % items.length; open(idx); }, 2200); },
          stop:  () => clearInterval(timer)
        };
      },

      badge: (card) => {
        const badges = $$('.badge', card);
        const counts = badges.map(b => parseInt(b.textContent, 10));
        let timer = null;
        return {
          start: () => {
            timer = setInterval(() => {
              const i = Math.floor(Math.random() * badges.length);
              counts[i]++;
              badges[i].textContent = counts[i];
              badges[i].classList.add('badge--bump');
              setTimeout(() => badges[i].classList.remove('badge--bump'), 300);
            }, 2000);
          },
          stop: () => clearInterval(timer)
        };
      },

      'bento-menu': (card) => {
        const trigger = $('.single-trigger', card);
        const panel   = $('.single-panel',   card);
        const cells   = $$('.bento-cell',    card);
        let ci = 0, timer = null;
        trigger.addEventListener('click', () => { const o = panel.classList.toggle('open'); trigger.classList.toggle('open', o); });
        const run = () => {
          panel.classList.add('open'); trigger.classList.add('open');
          timer = setTimeout(() => {
            cells.forEach(c => c.classList.remove('active'));
            cells[ci++ % cells.length].classList.add('active');
            timer = setTimeout(() => {
              panel.classList.remove('open'); trigger.classList.remove('open');
              cells.forEach(c => c.classList.remove('active'));
              timer = setTimeout(run, 900);
            }, 1400);
          }, 400);
        };
        return { start: () => { timer = setTimeout(run, 600); }, stop: () => clearTimeout(timer) };
      },

      breadcrumb: (card) => {
        const PATHS = [
          ['Home', 'Prodotti', 'Elettronica', 'Laptop'],
          ['Home', 'Docs', 'API Reference', 'Auth'],
          ['Home', 'Impostazioni', 'Profilo']
        ];
        const nav  = $('.breadcrumb', card);
        const disp = $('.breadcrumb-path-display span', card);
        let pi = 0, timers = [];
        const cycle = () => {
          const crumbs = PATHS[pi++ % PATHS.length];
          nav.innerHTML = '';
          crumbs.forEach((label, i) => {
            const isLast = i === crumbs.length - 1;
            const item = document.createElement('span');
            item.className = 'breadcrumb__item';
            if (isLast) {
              const s = document.createElement('span'); s.className = 'breadcrumb__current'; s.textContent = label; item.appendChild(s);
            } else {
              const a = document.createElement('a'); a.className = 'breadcrumb__link'; a.textContent = label; a.href = '#'; item.appendChild(a);
              const sep = document.createElement('span'); sep.className = 'breadcrumb__sep'; sep.textContent = '/'; item.appendChild(sep);
            }
            nav.appendChild(item);
            timers.push(setTimeout(() => { item.classList.add('visible'); disp.textContent = crumbs.slice(0, i + 1).join(' / '); }, i * 600));
          });
          timers.push(setTimeout(() => { nav.innerHTML = ''; disp.textContent = ''; cycle(); }, crumbs.length * 600 + 2000));
        };
        return {
          start: cycle,
          stop:  () => { timers.forEach(clearTimeout); timers = []; nav.innerHTML = ''; disp.textContent = ''; }
        };
      },

      button: (card) => {
        const btn = $('.btn--loading-demo', card);
        let timer = null;
        if (!btn) return { start: () => {}, stop: () => {} };
        btn.classList.remove('btn--loading-demo');
        const startLoad = () => {
          btn.style.opacity = '.7'; btn.style.pointerEvents = 'none';
          btn.innerHTML = '<span class="btn__spinner"></span>Salvando…';
          timer = setTimeout(() => {
            btn.style.opacity = ''; btn.style.pointerEvents = '';
            btn.innerHTML = '✓ Salvato';
            timer = setTimeout(() => { btn.innerHTML = 'Salva'; timer = setTimeout(startLoad, 2200); }, 800);
          }, 1800);
        };
        return {
          start: () => { timer = setTimeout(startLoad, 1000); },
          stop:  () => { clearTimeout(timer); btn.innerHTML = 'Salva'; btn.style.opacity = ''; btn.style.pointerEvents = ''; }
        };
      },

      'card-component': (card) => {
        const items = $$('.card-demo-item', card); let idx = 0, timer = null;
        return {
          start: () => { timer = setInterval(() => { items.forEach(i => i.classList.remove('active')); items[idx++ % items.length].classList.add('active'); }, 1800); },
          stop:  () => clearInterval(timer)
        };
      },

      carousel: (card) => {
        const track   = $('.carousel__track', card);
        const dotsWrap = $('.carousel__dots',  card);
        const N = track.children.length; let cur = 0, timer = null;
        dotsWrap.innerHTML = '';
        Array.from({ length: N }, (_, i) => {
          const d = document.createElement('button');
          d.className = 'carousel__dot' + (i === 0 ? ' carousel__dot--active' : '');
          d.setAttribute('aria-label', `Slide ${i + 1}`);
          d.addEventListener('click', () => go(i));
          dotsWrap.appendChild(d);
        });
        const dots = $$('.carousel__dot', card);
        const go   = (i) => {
          cur = (i + N) % N; track.style.transform = `translateX(-${cur * 100}%)`;
          dots.forEach((d, j) => d.classList.toggle('carousel__dot--active', j === cur));
        };
        const auto = () => { clearInterval(timer); timer = setInterval(() => go(cur + 1), 2500); };
        $('.carousel__arrow--next', card).addEventListener('click', () => { go(cur + 1); auto(); });
        $('.carousel__arrow--prev', card).addEventListener('click', () => { go(cur - 1); auto(); });
        return { start: auto, stop: () => clearInterval(timer) };
      },

      checkbox: (card) => {
        const items = $$('.checkbox-item', card); let idx = 0, timer = null;
        return {
          start: () => {
            timer = setInterval(() => {
              const item = items[idx % items.length];
              if (item.classList.contains('checkbox-item--checked')) {
                item.classList.remove('checkbox-item--checked');
                if (idx % items.length === 2) item.classList.add('checkbox-item--indeterminate');
              } else if (item.classList.contains('checkbox-item--indeterminate')) {
                item.classList.remove('checkbox-item--indeterminate');
              } else {
                item.classList.add('checkbox-item--checked');
              }
              idx++;
            }, 1300);
          },
          stop: () => clearInterval(timer)
        };
      },

      comment: (card) => {
        const nc = $('.comment--new', card); let timer = null;
        if (!nc) return { start: () => {}, stop: () => {} };
        const show = () => {
          nc.classList.add('visible');
          timer = setTimeout(() => { nc.classList.remove('visible'); timer = setTimeout(show, 2000); }, 2500);
        };
        return { start: () => { timer = setTimeout(show, 1800); }, stop: () => clearTimeout(timer) };
      },

      'doner-menu': (card) => {
        const trigger = $('.single-trigger', card);
        const panel   = $('.single-panel',   card);
        const opts    = $$('.list-opt',      card);
        let oi = 0, timer = null;
        trigger.addEventListener('click', () => { const o = panel.classList.toggle('open'); trigger.classList.toggle('open', o); });
        const cycle = () => {
          panel.classList.add('open'); trigger.classList.add('open');
          timer = setTimeout(() => {
            opts.forEach(o => o.classList.remove('active'));
            opts[oi++ % opts.length].classList.add('active');
            timer = setTimeout(() => {
              panel.classList.remove('open'); trigger.classList.remove('open');
              opts.forEach(o => o.classList.remove('active'));
              timer = setTimeout(cycle, 800);
            }, 1400);
          }, 400);
        };
        return { start: () => { timer = setTimeout(cycle, 900); }, stop: () => clearTimeout(timer) };
      },

      dropdown: (card) => {
        const ROLES = ['Admin', 'Editor', 'Viewer', 'Guest'];
        const trigger = $('.dropdown-trigger', card);
        const list    = $('.dropdown-list',    card);
        const val     = $('.dropdown-value',   card);
        const opts    = $$('.dropdown-option', card);
        let di = 0, timer = null;
        const cycle = () => {
          timer = setTimeout(() => {
            trigger.classList.add('open'); list.classList.add('open'); trigger.setAttribute('aria-expanded', 'true');
            timer = setTimeout(() => {
              opts.forEach(o => o.classList.remove('active'));
              opts[di % opts.length].classList.add('active');
              timer = setTimeout(() => {
                val.textContent = ROLES[di++ % ROLES.length];
                trigger.classList.remove('open'); list.classList.remove('open'); trigger.setAttribute('aria-expanded', 'false');
                opts.forEach(o => o.classList.remove('active')); cycle();
              }, 1600);
            }, 400);
          }, 600);
        };
        return { start: cycle, stop: () => clearTimeout(timer) };
      },

      form: (card) => {
        const NAMES  = ['Alice Rossi', 'Bob Chen', 'Carla Lima'];
        const EMAILS = ['alice@design.io', 'bob@studio.co', 'carla@labs.dev'];
        const nameIn    = $('.form-field__input:not(.form-email-input)', card);
        const emailIn   = $('.form-email-input',  card);
        const submitBtn = $('.form-submit-btn',    card);
        let fi = 0, timer = null, currentT = null;
        const typeIn = (el, text, cb) => {
          el.value = ''; el.classList.add('active'); let i = 0;
          const t = setInterval(() => {
            el.value += text[i++];
            if (i >= text.length) { clearInterval(t); el.classList.remove('active'); if (cb) cb(); }
          }, 80);
          return t;
        };
        const cycle = () => {
          const n = NAMES[fi % NAMES.length], e = EMAILS[fi++ % EMAILS.length];
          currentT = typeIn(nameIn, n, () => {
            timer = setTimeout(() => {
              currentT = typeIn(emailIn, e, () => {
                timer = setTimeout(() => {
                  submitBtn.innerHTML = '<span class="btn__spinner" style="border-color:rgba(0,0,0,.2);border-top-color:#000"></span>';
                  submitBtn.style.opacity = '.7'; submitBtn.style.pointerEvents = 'none';
                  timer = setTimeout(() => {
                    submitBtn.innerHTML = '✓ Inviato'; submitBtn.style.opacity = ''; submitBtn.style.pointerEvents = '';
                    timer = setTimeout(() => { nameIn.value = ''; emailIn.value = ''; submitBtn.innerHTML = 'Invia'; cycle(); }, 1000);
                  }, 1200);
                }, 400);
              });
            }, 300);
          });
        };
        return {
          start: cycle,
          stop:  () => { clearTimeout(timer); clearInterval(currentT); nameIn.value = ''; emailIn.value = ''; submitBtn.innerHTML = 'Invia'; }
        };
      },

      'hamburger-menu': (card) => {
        const trigger = $('.single-trigger', card);
        const panel   = $('.single-panel',   card);
        const items   = $$('.list-opt',      card);
        let itemIdx = 0, timer = null;
        const cycle = () => {
          panel.classList.add('open'); trigger.classList.add('open');
          const interval = setInterval(() => {
            items.forEach(i => i.classList.remove('active'));
            items[itemIdx = (itemIdx + 1) % items.length].classList.add('active');
          }, 600);
          timer = setTimeout(() => {
            clearInterval(interval); panel.classList.remove('open'); trigger.classList.remove('open');
            timer = setTimeout(cycle, 1500);
          }, 3000);
        };
        return { start: () => { timer = setTimeout(cycle, 700); }, stop: () => clearTimeout(timer) };
      },

      icon: (card) => {
        const icons = $$('.icon-item', card); let idx = 0, timer = null;
        return {
          start: () => { timer = setInterval(() => { icons.forEach(i => i.classList.remove('pulse')); icons[idx++ % icons.length].classList.add('pulse'); }, 700); },
          stop:  () => clearInterval(timer)
        };
      },

      'input-field': (card) => {
        const EMAILS = ['alice@design.io', 'bad-email', 'carol@labs.dev'];
        const input = $('.input-field__el', card);
        const hint  = $('.input-field__hint', card);
        let ei = 0, timer = null, currentT = null;
        const cycle = () => {
          const email = EMAILS[ei++ % EMAILS.length]; const isValid = email.includes('@');
          input.value = ''; input.className = 'input-field__el active'; hint.textContent = '';
          let i = 0;
          currentT = setInterval(() => {
            input.value += email[i++];
            if (i >= email.length) {
              clearInterval(currentT);
              timer = setTimeout(() => {
                input.className = 'input-field__el ' + (isValid ? 'success' : 'error');
                hint.textContent = isValid ? '✓ Email valida' : '✗ Formato email non valido';
                hint.className   = 'input-field__hint ' + (isValid ? 'success' : 'error');
                timer = setTimeout(() => { input.value = ''; input.className = 'input-field__el'; hint.textContent = ''; cycle(); }, 1400);
              }, 350);
            }
          }, 90);
        };
        return { start: cycle, stop: () => { clearTimeout(timer); clearInterval(currentT); input.value = ''; } };
      },

      'kebab-menu': (card) => {
        const rows = $$('.kebab-row', card); let ri = 0, timer = null;
        const cycle = () => {
          const row  = rows[ri % rows.length];
          const btn  = row.querySelector('.kebab-btn');
          const drop = row.querySelector('.kebab-dropdown');
          const opts = $$('.kebab-opt', row);
          row.classList.add('active'); btn.classList.add('open'); drop.classList.add('open');
          timer = setTimeout(() => {
            opts.forEach(o => o.classList.remove('active'));
            opts[Math.floor(Math.random() * opts.length)].classList.add('active');
            timer = setTimeout(() => {
              row.classList.remove('active'); btn.classList.remove('open'); drop.classList.remove('open'); ri++; cycle();
            }, 1400);
          }, 500);
        };
        return { start: () => { timer = setTimeout(cycle, 600); }, stop: () => clearTimeout(timer) };
      },

      'meatball-menu': (card) => {
        const btn  = $('.meatball-btn',      card);
        const drop = $('.meatball-dropdown', card);
        const opts = $$('.meatball-opt',     card);
        let oi = 0, timer = null;
        const cycle = () => {
          btn.classList.add('open'); drop.classList.add('open');
          timer = setTimeout(() => {
            opts.forEach(o => o.classList.remove('active'));
            opts[oi++ % opts.length].classList.add('active');
            timer = setTimeout(() => { btn.classList.remove('open'); drop.classList.remove('open'); cycle(); }, 1400);
          }, 400);
        };
        return { start: () => { timer = setTimeout(cycle, 1100); }, stop: () => clearTimeout(timer) };
      },

      modal: (card) => {
        const overlay = $('.modal-overlay', card); let timer = null;
        const cycle = () => {
          timer = setTimeout(() => {
            overlay.classList.add('open');
            timer = setTimeout(() => { overlay.classList.remove('open'); cycle(); }, 2800);
          }, 800);
        };
        // Allow manual open via button
        $('.modal-open-btn', card)?.addEventListener('click', () => {
          overlay.classList.add('open');
          overlay.querySelector('.modal-btn--cancel')?.addEventListener('click', () => overlay.classList.remove('open'), { once: true });
        });
        return { start: cycle, stop: () => { clearTimeout(timer); overlay.classList.remove('open'); } };
      },

      pagination: (card) => {
        const btns = $$('.pg-btn:not(.arrow)', card); let active = 1, timer = null;
        const setPg = (i) => {
          active = (i + btns.length) % btns.length;
          btns.forEach((b, j) => {
            b.classList.toggle('active', j === active);
            b.setAttribute('aria-current', j === active ? 'page' : 'false');
          });
        };
        return {
          start: () => { timer = setInterval(() => setPg(active + 1), 1400); },
          stop:  () => clearInterval(timer)
        };
      },

      progress: (card) => {
        const fills = $$('.progress-bar__fill', card);
        const pcts  = $$('.progress-pct',       card);
        let timer = null;
        const run = () => {
          fills.forEach((fill, i) => {
            const t = parseInt(fill.dataset.target, 10);
            setTimeout(() => {
              fill.style.width = t + '%';
              fill.setAttribute('aria-valuenow', t);
              let cur = 0;
              const itv = setInterval(() => {
                cur += 2; if (cur >= t) { cur = t; clearInterval(itv); }
                pcts[i].textContent = cur + '%';
              }, 20);
            }, i * 400);
          });
          timer = setTimeout(() => {
            fills.forEach(f => { f.style.transition = 'none'; f.style.width = '0%'; f.setAttribute('aria-valuenow', 0); });
            pcts.forEach(p => p.textContent = '0%');
            setTimeout(() => { fills.forEach(f => f.style.transition = 'width 900ms cubic-bezier(.4,0,.2,1)'); run(); }, 800);
          }, 5000);
        };
        return { start: run, stop: () => clearTimeout(timer) };
      },

      radio: (card) => {
        const items = $$('.radio-item', card); let idx = 0, timer = null;
        return {
          start: () => { timer = setInterval(() => { items.forEach(i => i.classList.remove('selected')); items[idx = (idx + 1) % items.length].classList.add('selected'); }, 1800); },
          stop:  () => clearInterval(timer)
        };
      },

      search: (card) => {
        const QUERIES = [
          { q: 'design system', r: ['Design System v2', 'Team Design'] },
          { q: 'onboarding',    r: ['Flusso onboarding', 'Nuovi utenti'] }
        ];
        const input     = $('.search-input',   card);
        const resultsEl = $('.search-results', card);
        const spans     = $$('.search-result span:last-child', card);
        let qi = 0, timer = null, currentT = null;
        const cycle = () => {
          const { q, r } = QUERIES[qi++ % QUERIES.length];
          input.value = ''; input.classList.add('active'); resultsEl.classList.remove('open');
          let i = 0;
          currentT = setInterval(() => {
            input.value += q[i++];
            if (i >= q.length) {
              clearInterval(currentT);
              r.forEach((txt, ri) => { if (spans[ri]) spans[ri].textContent = txt; });
              resultsEl.classList.add('open');
              timer = setTimeout(() => { input.classList.remove('active'); resultsEl.classList.remove('open'); cycle(); }, 2500);
            }
          }, 100);
        };
        return {
          start: cycle,
          stop:  () => { clearTimeout(timer); clearInterval(currentT); input.value = ''; resultsEl.classList.remove('open'); }
        };
      },

      sidebar: (card) => {
        const panel  = $('.sidebar-panel',  card);
        const toggle = $('.sidebar-toggle', card);
        const items  = $$('.sidebar-nav-item', card);
        let ii = 0, timer = null;
        const cycle = () => {
          panel.classList.add('open'); toggle.classList.add('open');
          const itv = setInterval(() => {
            items.forEach(i => i.classList.remove('active'));
            items[ii = (ii + 1) % items.length].classList.add('active');
          }, 500);
          timer = setTimeout(() => {
            clearInterval(itv); panel.classList.remove('open'); toggle.classList.remove('open');
            timer = setTimeout(cycle, 1500);
          }, 3000);
        };
        return { start: () => { timer = setTimeout(cycle, 600); }, stop: () => clearTimeout(timer) };
      },

      skeleton: (card) => {
        const sk = $('.skeleton-card', card); let timer = null;
        const cycle = () => {
          sk.classList.remove('loaded');
          timer = setTimeout(() => { sk.classList.add('loaded'); timer = setTimeout(cycle, 2000); }, 2400);
        };
        return { start: cycle, stop: () => { clearTimeout(timer); sk.classList.remove('loaded'); } };
      },

      slider: (card) => {
        const s = {
          fill:  $('.slider-fill--yellow', card),
          thumb: $('.slider-fill--yellow', card)?.nextElementSibling,
          val:   $('.slider-val-a', card),
          pos:   72, dir: 1
        };
        let timer = null;
        return {
          start: () => {
            timer = setInterval(() => {
              s.pos += 0.7 * s.dir;
              if (s.pos >= 95 || s.pos <= 5) s.dir *= -1;
              s.fill.style.width  = s.pos + '%';
              s.thumb.style.left  = s.pos + '%';
              s.val.textContent   = Math.round(s.pos);
            }, 40);
          },
          stop: () => clearInterval(timer)
        };
      },

      stepper: (card) => {
        const steps = $$('.stepper__step', card); let cur = 0, timer = null;
        const apply = () => steps.forEach((s, i) => {
          s.classList.remove('active', 'done');
          const c = s.querySelector('.stepper__circle');
          if      (i < cur)  { s.classList.add('done');   c.textContent = '✓'; }
          else if (i === cur) { s.classList.add('active'); c.textContent = i + 1; }
          else                { c.textContent = i + 1; }
        });
        const advance = () => { apply(); cur = (cur + 1) % steps.length; timer = setTimeout(advance, 1600); };
        return { start: advance, stop: () => { clearTimeout(timer); cur = 0; apply(); } };
      },

      tabbar: (card) => {
        const items = $$('.tab-bar__item', card); let idx = 0, timer = null;
        return {
          start: () => {
            timer = setInterval(() => {
              items.forEach(t => { t.classList.remove('active'); t.removeAttribute('aria-selected'); });
              items[idx = (idx + 1) % items.length].classList.add('active');
              items[idx].setAttribute('aria-selected', 'true');
            }, 1800);
          },
          stop: () => clearInterval(timer)
        };
      },

      tabs: (card) => {
        const tabs   = $$('.wizard__tab',   card);
        const panels = $$('.wizard__panel', card);
        let idx = 0, timer = null;
        const activate = (i) => {
          tabs.forEach(t => { t.classList.remove('active'); t.setAttribute('aria-selected', 'false'); });
          panels.forEach(p => p.classList.remove('active'));
          tabs[i].classList.add('active'); tabs[i].setAttribute('aria-selected', 'true');
          panels[i].classList.add('active');
        };
        return {
          start: () => { timer = setInterval(() => { idx = (idx + 1) % tabs.length; activate(idx); }, 2200); },
          stop:  () => clearInterval(timer)
        };
      },

      chips: (card) => {
        const chips = $$('.chip', card); let idx = 0, timer = null;
        return {
          start: () => {
            timer = setInterval(() => {
              chips.forEach(c => c.classList.remove('active'));
              chips[idx = (idx + 1) % chips.length].classList.add('active');
            }, 1500);
          },
          stop: () => clearInterval(timer)
        };
      },

      toast: (card) => {
        // Use textContent to avoid XSS — never use innerHTML with dynamic data
        const QUEUE = [
          { type: 'success', icon: '✓', msg: 'File caricato.' },
          { type: 'info',    icon: '●', msg: 'v2.4.1 disponibile.' },
          { type: 'danger',  icon: '✗', msg: 'Nuovo tentativo in corso…' }
        ];
        let qi = 0, timer = null;
        const stack = $('.toast-stack', card);
        const spawn = () => {
          const { type, icon, msg } = QUEUE[qi++ % QUEUE.length];
          const el  = document.createElement('div'); el.className = `toast toast--${type}`;
          const ico = document.createElement('span'); ico.className = 'toast__icon'; ico.textContent = icon;
          const txt = document.createElement('span'); txt.className = 'toast__msg';  txt.textContent = msg;
          const cls = document.createElement('span'); cls.className = 'toast__close'; cls.textContent = '✕';
          cls.addEventListener('click', () => { el.classList.add('exit'); setTimeout(() => el.remove(), 400); });
          el.append(ico, txt, cls);
          stack.appendChild(el);
          requestAnimationFrame(() => el.classList.add('visible'));
          setTimeout(() => { el.classList.add('exit'); setTimeout(() => el.remove(), 400); }, 2200);
        };
        return {
          start: () => { timer = setInterval(spawn, 2800); spawn(); },
          stop:  () => { clearInterval(timer); stack.innerHTML = ''; }
        };
      },

      toggle: (card) => {
        const inputs = $$('.toggle__input', card); let idx = 0, timer = null;
        return {
          start: () => { timer = setInterval(() => { inputs[idx++ % inputs.length].checked ^= true; }, 1800); },
          stop:  () => clearInterval(timer)
        };
      }
    };

    /* ═══════════════════════════════════════════════════════
       DEMO MANAGER
       Handles IntersectionObserver and global play/pause.
    ═══════════════════════════════════════════════════════ */
    const DemoManager = (() => {
      let isPaused = false;
      const activeComponents = new Map();

      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          const card     = entry.target;
          const compName = card.dataset.component;
          if (!ComponentRegistry[compName]) return;
          if (entry.isIntersecting && !isPaused) {
            if (!activeComponents.has(card)) startComponent(card);
          } else if (!entry.isIntersecting) {
            stopComponent(card);
          }
        });
      }, { threshold: 0.1 });

      function startComponent(card) {
        if (activeComponents.has(card)) return;
        const logic = ComponentRegistry[card.dataset.component](card);
        activeComponents.set(card, logic);
        logic.start();
        $('.auto-badge', card)?.classList.add('is-playing');
      }

      function stopComponent(card) {
        if (!activeComponents.has(card)) return;
        activeComponents.get(card).stop();
        activeComponents.delete(card);
        $('.auto-badge', card)?.classList.remove('is-playing');
      }

      function togglePause() {
        isPaused = !isPaused;
        const btn       = $('#toggleInteractivity');
        const iconPause = $('#iconPause');
        const iconPlay  = $('#iconPlay');

        // Swap icon and update accessible label/tooltip
        iconPause.style.display = isPaused ? 'none'  : '';
        iconPlay.style.display  = isPaused ? ''      : 'none';
        btn.setAttribute('aria-label', isPaused ? 'Riprendi la demo automatica' : 'Metti in pausa la demo automatica');
        btn.setAttribute('data-tooltip', isPaused ? 'Riprendi' : 'Metti in pausa');
        btn.classList.toggle('paused', isPaused);

        $$('.card').forEach(card => {
          card.classList.toggle('paused-mode', isPaused);
          if (isPaused) stopComponent(card);
        });

        if (!isPaused) {
          // Re-trigger observer to restart visible cards
          $$('.card').forEach(c => { observer.unobserve(c); observer.observe(c); });
        }
      }

      function toggleIndividual(card) {
        if (!isPaused) return;
        activeComponents.has(card) ? stopComponent(card) : startComponent(card);
      }

      return {
        init: () => {
          $('#toggleInteractivity').addEventListener('click', togglePause);
        },
        observe: (card) => {
          observer.observe(card);
          const badge = $('.auto-badge', card);
          if (badge) badge.onclick = (e) => { e.stopPropagation(); toggleIndividual(card); };
        }
      };
    })();

    /* ═══════════════════════════════════════════════════════
       LAYOUT ENGINE
       Clones cards from <template>, builds desktop grid
       pagination and mobile carousel, then starts observer.
    ═══════════════════════════════════════════════════════ */
    const LayoutBuilder = (() => {
      const tpl      = $('#cardTemplates');
      const deskCont = $('#desktopPagesContainer');
      const mobTrack = $('#mobileTrack');
      const deskPag  = $('#desktopPagination');
      const mobPag   = $('#mobilePagination');

      // Clone all cards from the template once
      const cards     = Array.from(tpl.content.querySelectorAll('.card')).map(c => c.cloneNode(true));
      const totalPages = Math.ceil(cards.length / CONFIG.CARDS_PER_PAGE);
      let dPage = 0, mIdx = 0;

      function build() {
        // Build desktop paged grid
        for (let p = 0; p < totalPages; p++) {
          const page = document.createElement('div');
          page.className = 'grid-page' + (p === 0 ? ' grid-page--active' : '');
          cards.slice(p * CONFIG.CARDS_PER_PAGE, (p + 1) * CONFIG.CARDS_PER_PAGE).forEach(c => {
            const clone = c.cloneNode(true);
            page.appendChild(clone);
            DemoManager.observe(clone);
          });
          deskCont.appendChild(page);
        }

        // Desktop pagination controls — circle arrow buttons with SVG chevrons
        const prev = mkChevronBtn('prev', 'Pagina precedente', () => goDesk(dPage - 1));
        deskPag.appendChild(prev);

        for (let i = 0; i < totalPages; i++) {
          const dot = mkBtn('pagination__dot' + (i === 0 ? ' pagination__dot--active' : ''), '', () => goDesk(i));
          dot.setAttribute('aria-label', `Pagina ${i + 1}`);
          deskPag.appendChild(dot);
        }

        const next = mkChevronBtn('next', 'Pagina successiva', () => goDesk(dPage + 1));
        deskPag.appendChild(next);
        updateDeskNav();

        // Build mobile carousel
        cards.forEach(card => {
          const s = document.createElement('div'); s.className = 'mobile-slide';
          const clone = card.cloneNode(true);
          s.appendChild(clone); mobTrack.appendChild(s);
          DemoManager.observe(clone);
        });
        cards.forEach((_, i) => {
          const d = mkBtn('pagination__dot' + (i === 0 ? ' pagination__dot--active' : ''), '', () => goMob(i));
          d.setAttribute('aria-label', `Elemento ${i + 1}`);
          d.style.transition = 'background var(--tf), transform var(--tf), opacity 200ms, width 200ms, margin 200ms, min-width 200ms';
          mobPag.appendChild(d);
        });
        $('#mobilePrev').onclick = () => goMob(mIdx - 1);
        $('#mobileNext').onclick = () => goMob(mIdx + 1);

        // Touch swipe support for mobile carousel
        const gallery  = $('#mobileGallery');
        let touchStartX = 0, touchStartY = 0, isSwiping = false;

        gallery.addEventListener('touchstart', (e) => {
          touchStartX = e.touches[0].clientX;
          touchStartY = e.touches[0].clientY;
          isSwiping = false;
        }, { passive: true });

        gallery.addEventListener('touchmove', (e) => {
          const dx = e.touches[0].clientX - touchStartX;
          const dy = e.touches[0].clientY - touchStartY;
          // Treat as horizontal swipe only if mostly horizontal
          if (!isSwiping && Math.abs(dx) > Math.abs(dy) && Math.abs(dx) > 6) {
            isSwiping = true;
          }
          if (isSwiping) e.preventDefault();
        }, { passive: false });

        gallery.addEventListener('touchend', (e) => {
          if (!isSwiping) return;
          const dx = e.changedTouches[0].clientX - touchStartX;
          if (Math.abs(dx) > CONFIG.SWIPE_THRESHOLD) {
            goMob(dx < 0 ? mIdx + 1 : mIdx - 1);
          }
          isSwiping = false;
        }, { passive: true });

        // Set initial arrow + dot state
        updateMobNav();
      }

      function mkBtn(cls, text, handler) {
        const b = document.createElement('button');
        b.className = cls; b.textContent = text; b.onclick = handler;
        return b;
      }

      // Creates a circle arrow button with an SVG chevron (shared by desktop and mobile nav)
      function mkChevronBtn(direction, label, handler) {
        const points = direction === 'prev' ? '15 18 9 12 15 6' : '9 6 15 12 9 18';
        const b = document.createElement('button');
        b.className = direction === 'prev' ? 'pagination__btn' : 'pagination__btn';
        b.setAttribute('aria-label', label);
        b.innerHTML = `<svg viewBox="0 0 24 24"><polyline points="${points}"/></svg>`;
        b.onclick = handler;
        return b;
      }

      function updateDeskNav() {
        const pages = $$('.grid-page', deskCont);
        const btns = deskPag.querySelectorAll('.pagination__btn');
        btns[0].disabled = dPage === 0;
        btns[1].disabled = dPage === pages.length - 1;
      }

      function updateMobNav() {
        const total = cards.length;
        $('#mobilePrev').disabled = mIdx === 0;
        $('#mobileNext').disabled = mIdx === total - 1;

        // Show a sliding window of max 7 dots, scale the rest
        const allDots = $$('.pagination__dot', mobPag);
        const WINDOW = 5;
        const half   = Math.floor(WINDOW / 2);
        let winStart = Math.max(0, mIdx - half);
        let winEnd   = Math.min(total - 1, winStart + WINDOW - 1);
        if (winEnd - winStart < WINDOW - 1) winStart = Math.max(0, winEnd - WINDOW + 1);

        allDots.forEach((d, i) => {
          const inWindow = i >= winStart && i <= winEnd;
          const isActive = i === mIdx;
          d.classList.toggle('pagination__dot--active', isActive);
          // Dots outside window collapse; edge dots of window are dimmed
          if (!inWindow) {
            d.style.transform  = 'scale(0)';
            d.style.opacity    = '0';
            d.style.width      = '0';
            d.style.padding    = '0';
            d.style.margin     = '0';
            d.style.minWidth   = '0';
            d.style.flexShrink = '1';
          } else if (i === winStart || i === winEnd) {
            d.style.transform  = 'scale(.6)';
            d.style.opacity    = '.4';
            d.style.width      = '';
            d.style.padding    = '';
            d.style.margin     = '0 .22rem';
            d.style.minWidth   = '';
            d.style.flexShrink = '';
          } else {
            d.style.transform  = isActive ? 'scale(1.5)' : '';
            d.style.opacity    = '';
            d.style.width      = '';
            d.style.padding    = '';
            d.style.margin     = '0 .22rem';
            d.style.minWidth   = '';
            d.style.flexShrink = '';
          }
        });
      }

      function goDesk(i) {
        const pages = $$('.grid-page', deskCont);
        if (i < 0 || i >= pages.length) return;
        pages[dPage].classList.remove('grid-page--active');
        dPage = i;
        pages[dPage].classList.add('grid-page--active');
        $$('.pagination__dot', deskPag).forEach((d, j) => d.classList.toggle('pagination__dot--active', j === dPage));
        updateDeskNav();
      }

      function goMob(i) {
        mIdx = Math.max(0, Math.min(i, cards.length - 1));
        mobTrack.style.transform = `translateX(-${mIdx * 100}%)`;
        updateMobNav();
      }

      return { init: build };
    })();

    // Boot
    DemoManager.init();
    LayoutBuilder.init();

  </script>
</body>
</html>
